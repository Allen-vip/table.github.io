(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports={detail_card_star:"orders_detail_card_star__2sE0O",orders:"orders_orders__2QXTr",header:"orders_header__14bfg",title:"orders_title__Y1JEj",subtitle:"orders_subtitle__WTxPa",content:"orders_content__3Ho-B",content_nav:"orders_content_nav__2oVri",active:"orders_active__3hk-h",content_body:"orders_content_body__1GUHb",menu_section:"orders_menu_section__V_Hyl",content_menu:"orders_content_menu__2t-CB",pre_active:"orders_pre_active__2ho-m",after_active:"orders_after_active__3-oF-",content_list:"orders_content_list__cLgB6",content_card:"orders_content_card__1Pi_2",content_card_title:"orders_content_card_title__3YSBR",content_card_body:"orders_content_card_body__1xBCu",content_card_intro:"orders_content_card_intro__3_wAh",content_card_amount:"orders_content_card_amount__FhteA",content_card_originPrice:"orders_content_card_originPrice__2jspw",content_sold:"orders_content_sold__wtdVh",footer:"orders_footer__12IeT",cart:"orders_cart__1rrHB",about:"orders_about__qehQC",about_info:"orders_about_info__IAihW",takeout:"orders_takeout__CD1EZ",tags:"orders_tags__3iNKt",intro:"orders_intro__32Z2y",reviews:"orders_reviews__1OCea",reviews_title:"orders_reviews_title__rdx9v",about_line:"orders_about_line__1N4iX",time_line:"orders_time_line__3OuvE",time_hours:"orders_time_hours__1m6xu"}},11:function(e,t,a){e.exports={confirm_view:"paymentPreview_confirm_view__pX1br",confirm_view_body:"paymentPreview_confirm_view_body__2QEHu",title:"paymentPreview_title__JNjP0",card:"paymentPreview_card__3Oyjz",card_padding:"paymentPreview_card_padding__GXcKh",card_info:"paymentPreview_card_info__U57Z4",card_spe:"paymentPreview_card_spe__1bY3s",line_flex:"paymentPreview_line_flex__3psS0",line_flex_auto:"paymentPreview_line_flex_auto__1Y6oB",line_flex_spe:"paymentPreview_line_flex_spe__1CYIa",line_tags:"paymentPreview_line_tags__xBSFV",active:"paymentPreview_active__1aCJH",price:"paymentPreview_price__25Awo",confirm_type:"paymentPreview_confirm_type__3ufjO",sign_icon:"paymentPreview_sign_icon__2sce8",tips:"paymentPreview_tips__YOwxm",confirm_footer:"paymentPreview_confirm_footer__2vgK5",field_edit:"paymentPreview_field_edit__1q8QR",field_close:"paymentPreview_field_close__7eJVH",arrow_right:"paymentPreview_arrow_right__3Jy4X",confirm_coustom:"paymentPreview_confirm_coustom__1UZGK",order_help:"paymentPreview_order_help__1AwAu",btn_list:"paymentPreview_btn_list__ndmzi",email:"paymentPreview_email__1Q-Vj",detail_more:"paymentPreview_detail_more__3xdLi",show_more:"paymentPreview_show_more__2M6pz",under_handle:"paymentPreview_under_handle__1C0Tx",gift_card:"paymentPreview_gift_card__22XE0",payment_method:"paymentPreview_payment_method__16lMa",payment_line:"paymentPreview_payment_line__3kRrC",line_select:"paymentPreview_line_select__3pAz0",bank_icon:"paymentPreview_bank_icon__qaQxM",offline_icon:"paymentPreview_offline_icon__1AjhN",payment_modal:"paymentPreview_payment_modal__3w40h",modal:"paymentPreview_modal__psCcu",add_bank:"paymentPreview_add_bank__3PqTw"}},119:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAMFBMVEVHcEz/x2T/x2T/xFv/x2T/x2X/x2T/x2X/x2T/yGT/x2T/yGT/yWT/yGH/yGT/x2WY7cYNAAAAD3RSTlMAc+8HReFl+MdShpcWKKNVeZnDAAAApElEQVQoz2NgoB5gUUMT4PhkgCow/78AqkD//2BUI/7//4ZqxP//X1EE/P///58A5zFfkY4HCmhLXobwM0A8CIgAW6X/HwH+gASmIwmAVbDUw/lQq93hAlCL4Ep+wux1gvC/T4AJMEIEfjPgFOCDCPxA9hoIfIILmENtOQATuA/0/FKggAMi/D4JM6f+R4Ti+k+LgYEg9P8BTCB9DThYhBZQKU4BmKmQrVV3DqUAAAAASUVORK5CYII="},12:function(e,t,a){e.exports={view:"component_view__ogXRA",view_body:"component_view_body__2sTBs",star_flex:"component_star_flex__Q8VJQ",reviews_card:"component_reviews_card__1LNnZ",reviews_header:"component_reviews_header__2GnMJ",reviews_info:"component_reviews_info__2Acwy",reviews_message:"component_reviews_message__3ubGD",reviews_imgs:"component_reviews_imgs__2IMuo",content_calc:"component_content_calc__Yo_z6",content_min:"component_content_min__3RKIe",content_plus:"component_content_plus__2z83Q",content_num:"component_content_num__3mU0Y",modal:"component_modal__1MjWS",modal_body:"component_modal_body__FmUoL",modal_content:"component_modal_content__2qNH6",modal_btn:"component_modal_btn__zLibZ",modal_title:"component_modal_title__3Ir7S",modal_info:"component_modal_info__16wQI",info:"component_info__pcT9Y",border:"component_border__3Z-yq",bold:"component_bold__3yd8w",title:"component_title__2MVYq",btn_list:"component_btn_list__23dt_",review_page:"component_review_page__1CrVI",review_modal:"component_review_modal__1wBz9",carousel:"component_carousel__1tBPv"}},120:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAANlBMVEVHcEz/x2T/xmT/x2T/v1T/xmT/x2T/yGX/x2T/xmT/x2T/x2T/yGT/x2T/wWL/x2T/xWP/x2XWNu53AAAAEXRSTlMA6M+8B1FdcEDzfpiN2xWmKBXq8jEAAADRSURBVDjLzVNJEsMgDGMxi1lC9P/P1qTTlIaUc3wiIyHZMlHqeRW1XxMMNK1wByCsBexSIgpqsOjCir5Dpf8CTN3mVmKLoWgkOXlwDnEfQd8Mo5c9xNtxRrXnPB3VVq59rEK2unO27/R58gxjIsIoK1wYjEILXGwZbfhMgLtmwMP4cca7aB4E5qaFUG7JZ7UfC3O36Z5uTE6m2cATTgCpaHrEoqSxXwk7arSSeKmAcXaewkE2woEUeaHw/PAkGk7v5VCQTbUrwXPZvg0lDg/6F1/RwAmTi2BNSgAAAABJRU5ErkJggg=="},15:function(e,t,a){e.exports={confirm_view:"orderCheck_confirm_view__1hayv",confirm_view_body:"orderCheck_confirm_view_body__19goO",title:"orderCheck_title__3irpp",cart_line:"orderCheck_cart_line__-zdMc",card:"orderCheck_card__3wuRB",card_spe:"orderCheck_card_spe__3jWya",card_info:"orderCheck_card_info__11WBZ",line_flex:"orderCheck_line_flex__KnhMW",price:"orderCheck_price__r2Kfq",payment_list:"orderCheck_payment_list__2yXzb",confirm_type:"orderCheck_confirm_type__2EeSP",active:"orderCheck_active__302lW",sign_icon:"orderCheck_sign_icon__3rGTt",tips:"orderCheck_tips__23Ot_",confirm_footer:"orderCheck_confirm_footer__1FIHR",field_edit:"orderCheck_field_edit__3_3UI",field_close:"orderCheck_field_close__2vpIh",arrow_right:"orderCheck_arrow_right__3qEZ4",confirm_coustom:"orderCheck_confirm_coustom__17EAn",order_help:"orderCheck_order_help__3oqUc",btn_list:"orderCheck_btn_list__S8HQQ",enter:"orderCheck_enter__2e2ap",email:"orderCheck_email__kV3OQ",detail_more:"orderCheck_detail_more__XHjG0",show_more:"orderCheck_show_more__ZwL-f",under_handle:"orderCheck_under_handle__259cF",btn_list_spe:"orderCheck_btn_list_spe__knBBM"}},16:function(e,t,a){e.exports={evaluate_view:"review_evaluate_view__Rz64N",view:"review_view__o3Rwc",view_body:"review_view_body__3VGyJ",section:"review_section__1OuKh",dishes_section:"review_dishes_section__3KhQl",title:"review_title__2GEMD",big_star:"review_big_star__nbSPD",res_evaluate_section:"review_res_evaluate_section__2H19a",res_arrow:"review_res_arrow__qqMzD",hide:"review_hide__1xOJE",detail_more:"review_detail_more__3yfN0",show_more:"review_show_more__2lVGg",evaluate_info:"review_evaluate_info__2PAOQ",photo_upload:"review_photo_upload__10eUp",res_evaluate:"review_res_evaluate__2ra--",confirm_footer:"review_confirm_footer__1S_8Q",review_form:"review_review_form__2Schn"}},169:function(e,t,a){e.exports={home_ul:"routers_home_ul__34UPJ",home:"routers_home__5E7fL",home_body:"routers_home_body__393rV",home_footer:"routers_home_footer__3K1pD",active:"routers_active__1P_-H"}},217:function(e,t,a){},22:function(e,t,a){e.exports={payment:"paymentResult_payment__3kB2b",payment_body:"paymentResult_payment_body__3Q6TQ",payment_icon:"paymentResult_payment_icon__3xsNP",title:"paymentResult_title__oURVa",order_ino:"paymentResult_order_ino__9gUSi",info:"paymentResult_info__2aygj",enter:"paymentResult_enter__3RKaH",email:"paymentResult_email__2LjiV",active:"paymentResult_active__3uAu9",btn_list:"paymentResult_btn_list__3UQy3",can_lottery:"paymentResult_can_lottery__3oK-7",can_lottery_section:"paymentResult_can_lottery_section__1q1db",scratch:"paymentResult_scratch__2C6F2",field_edit:"paymentResult_field_edit__3u_WP",field_close:"paymentResult_field_close__LGqcH",gift_card:"paymentResult_gift_card__2IpBe",scratch_card:"paymentResult_scratch_card__1s29g",offlinepayment:"paymentResult_offlinepayment__1AN5w",sep_btn:"paymentResult_sep_btn__DcCfR"}},240:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAAAgCAMAAADaHo1mAAAAn1BMVEVHcEz/cEj/v2b/sm7/lF3/pGj/n2n/jl7/tHL/kGb/ZjL/2pr/Yyv/68H/umX/4Kr/6rz/6r3/////t2f/wGb/sWf/q2j/h2z/gGz/u2b/g2z/lGr/fGf/mmr/ynn/dlj/b0n/1ZH/pWn/n2n/aTr/4Kr/7ML/jmv/Yiv/+vf/6Nz/8uz/sY7/vaL/2cj/x6f/tJ3/nn//xZH/zrj/z6ow+PKxAAAAEnRSTlMAi+e/P5HyGw7T7n/C183vSp9RMz8GAAACqUlEQVRIx7VW23abMBCE2JgQ27ngGhEoaQttVSFxM/7/b+uOEBfHnJ6TBs+Dd5C0M9JKBlnWiOeX/f73p7HfvzxbM7jfPv1aDE/b+/f62x8LY3s5/dXb4lhNFrG++3ID3K17ffcm+uTgmvo8vt4Ij12VnMOt8OroAh1vZnDQRXKOHU4j3o4jTkLkx//FAUvYmAd/xHkypvL9jxkczmfKD0CD44aOaGAwNQgGaIPgIzj5vhzT15bTczI+C98vKahxePo5g8CxVukE0vcrCiQrhS/yE3EYpOkxl5J6VE5TACGoErwNiJZSqj7kuU+Zea+4srwZg7Q0tSrStNAGlFWSpuia23TkkKLeUx9MsxHMNtYmm4AMCgoK0yzIRWYZDDKiZdddFhVJKM3luSXeZlmuW7pgVtArzhs0RYEEqlJn0GKiWVbDS7eU4KLRXF4a6NmNihvLSyaAAYUsSeuqoi0XSUISqHVDzdiOtm1pOTl4iQzqaxIoE+8CDAbBzLNW8bVB0ppKdgYgMGiHcyzBW5Oh/mGQrCwnngAGFDDrsqJiC82xhJyaMetCo9YcGdiQmJRr4jCIYxgMgtyx1jMGXULSG8gGe6mpFlVK6eZYqwk9vtDjrwxi+iZs+AgYUMChjBuqteAcm4wfX3FMt+JobzUvVY1zxTlGFkWuB3GlH3pFvOwuDWoKdVd3AQMcHS0hG170W9DwC64M1QZc758RxMvOZSNggIhNFjUZMAYDxmBdMlZIGOcNxtQjj/DfEC32gJ4UOoyg/qbZ7AoRUypic1B13TDT1Qw84oZGjLFJot19M73oCmEYRnMIw4uegYdzCaFnLhZul7c83OHaEn69AcL1eDFyvW+Lw3Mvrnb294Vhv7+duvbDz8XwYLtzF+y1vds9/Pksdjt7UnzrL4e6PcKElJPoAAAAAElFTkSuQmCC"},241:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAANlBMVEVHcEz/x2P/x2T/x2T/x2T/x2T/wFj/x2T/yGT/x2T/xWP/yGT/xmT/w2H/x2T/x2T/xmP/x2Vhb1hgAAAAEXRSTlMATubbgfQGmGtcPHTOFLqlImwUBd0AAADASURBVDjLzZNLEoQgDESDfBIE0b7/ZQdkxkGhWJsVVh4N3UGi95W3fg4sWNysLwBkLqCnEh7giMktdAYUtJsIgGks4VYxbE/Aw7Koo+2aWFq1mGivK53CD0BTGaA1cFrKx9a4b4GzQpuI9IDcE/NPQJ6JqjtgAPXwqVpg7fvnpgsw/7uOARkB6XZE7IFvmFHlUW2w/TAuo9qXd3HQ2IVlXVRS76KGaTZyPiMWYWSC63Cc5EntvcL+P9YZG170L34AwGgOoZyLVMoAAAAASUVORK5CYII="},242:function(e,t,a){e.exports=a.p+"static/media/img_receipt.54c4dc99.png"},243:function(e,t,a){e.exports=a.p+"static/media/sumary_NeedHelp@2x.79b6e611.png"},247:function(e,t,a){e.exports=a(466)},25:function(e,t,a){e.exports={info:"orderInfo_info__1JTwh",section_info:"orderInfo_section_info__2tsnX",info_body:"orderInfo_info_body__3aWDb",content_calc:"orderInfo_content_calc__1TvyK",content_min:"orderInfo_content_min__LBOYM",content_plus:"orderInfo_content_plus__1praM",content_num:"orderInfo_content_num__v7_1k",info_content:"orderInfo_info_content__3iSBT",info_title:"orderInfo_info_title__3ffzW",info_content_left:"orderInfo_info_content_left__2hP-1",info_price:"orderInfo_info_price__3iNlu",info_star:"orderInfo_info_star__9mu2v",info_footer:"orderInfo_info_footer__2gZ_W",info_reviews:"orderInfo_info_reviews__3AR94",banner:"orderInfo_banner__2TPHo",footer:"orderInfo_footer__1evzu",cart:"orderInfo_cart__1_RFK",bannerList:"orderInfo_bannerList__2KBVZ",content_card_originPrice:"orderInfo_content_card_originPrice__MkoS-"}},31:function(e,t,a){e.exports={order_preview:"orderPreview_order_preview__22Sf2",confirm_view:"orderPreview_confirm_view__2rkew",confirm_view_body:"orderPreview_confirm_view_body__61MQo",title:"orderPreview_title__2Q25h",in_your_cart:"orderPreview_in_your_cart__YwJTu",card:"orderPreview_card__3lt_E",card_spe:"orderPreview_card_spe__1yn4Y",card_info:"orderPreview_card_info__1hyFx",line_flex:"orderPreview_line_flex__3Pky1",price:"orderPreview_price__1wyVu",confirm_type:"orderPreview_confirm_type__Wt-x6",active:"orderPreview_active__3FbJY",sign_icon:"orderPreview_sign_icon__HF9wx",tips:"orderPreview_tips__15Lnw",confirm_footer:"orderPreview_confirm_footer__1I9v1",field_edit:"orderPreview_field_edit__2SURv",field_close:"orderPreview_field_close__BHJXT",arrow_right:"orderPreview_arrow_right__3yJGN",confirm_coustom:"orderPreview_confirm_coustom__1Ezw6",btn_list:"orderPreview_btn_list__1-n1k"}},310:function(e,t){},37:function(e,t,a){e.exports={card_gift:"cardGift_card_gift__8qRj8",card_gift_section:"cardGift_card_gift_section__2Qj3F",card_gift_title:"cardGift_card_gift_title__3cap8",section:"cardGift_section__1wCFO",active:"cardGift_active__3-pdH",sign_icon:"cardGift_sign_icon__1rdIz",expire:"cardGift_expire__3rUgt",card_line:"cardGift_card_line__2hJFV",section_left:"cardGift_section_left__2y5IX",section_middle:"cardGift_section_middle__1EZVJ"}},44:function(e,t,a){e.exports={confirm_view:"orderConfirm_confirm_view__1o1pv",view_body:"orderConfirm_view_body__wMTJ1",confirm_view_body:"orderConfirm_confirm_view_body__voZdR",title:"orderConfirm_title__cIhjB",enter_table:"orderConfirm_enter_table__1C5f9",confirm_footer:"orderConfirm_confirm_footer__1caCV",confirm_example:"orderConfirm_confirm_example__259md",orderConfirm:"orderConfirm_orderConfirm__2dYvz"}},466:function(e,t,a){"use strict";a.r(t);var n=a(21),r=a.n(n),o=(a(217),a(0)),c=a.n(o),s=a(5),i=a(6),l=a(8),d=a(7),u=a(9),p=a(28),m=a(169),h=a.n(m),f=(a(34),a(4)),_=a.n(f),v=a(3),b=a(10),y=a.n(b),g=a(240),w=a.n(g),E=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={hoursList:[]},a.getHours=function(){return a.props.dispatch({type:"orders/regularHours",payload:{storeId:window.sessionStorage.storeId}})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;_.a.loading("loading"),this.getHours().then(function(t){_.a.hide(),e.setState({hoursList:t})})}},{key:"render",value:function(){var e=this,t=this.props,a=t.businessInfo,n=t.labels,r=void 0===n?[]:n;return c.a.createElement("div",{className:y.a.about},c.a.createElement("div",{className:y.a.takeout},c.a.createElement("img",{src:w.a,alt:""}),c.a.createElement("div",{className:y.a.tags},r.map(function(e,t){return c.a.createElement("span",{key:t},c.a.createElement("b",null,e.labelName))}))),c.a.createElement("div",{className:y.a.about_info},c.a.createElement("div",{className:y.a.about_line},c.a.createElement("p",null,"Hours:"),c.a.createElement("div",null,function(){var t=[];return e.state.hoursList.forEach(function(e,a){t.push(c.a.createElement("div",{key:a,className:y.a.time_line},c.a.createElement("span",null,function(){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][arguments.length>0&&void 0!==arguments[0]?arguments[0]:0]}(e.dayOfWeek)),c.a.createElement("p",{className:y.a.time_hours},c.a.createElement("span",null,e.startTime),c.a.createElement("span",null,"-"),c.a.createElement("span",null,e.endTime)),"OPEN"!==e.status&&c.a.createElement("span",{style:{color:"red",fontWeight:"bold"}},"Close now")))}),t}())),c.a.createElement("div",{className:y.a.about_line},c.a.createElement("p",null,"Address:"),c.a.createElement("div",null,"".concat(a.businessAddress," ").concat(a.city," ").concat(a.state," ").concat(a.zipcode))),c.a.createElement("div",{className:y.a.about_line},c.a.createElement("p",null,"phone:"),c.a.createElement("div",null,c.a.createElement("p",null,c.a.createElement("a",{href:"tel:".concat(a.phoneNumber)},a.phoneNumber))))),c.a.createElement("p",{className:y.a.intro},a.introduction))}}]),t}(c.a.Component),I=a(119),O=a.n(I),C=a(241),k=a.n(C),N=a(120),x=a.n(N),j=a(12),A=a.n(j),S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c.a.createElement("div",{className:"".concat(A.a.star_flex," ").concat(e.className?e.className:"")},function(){var t=e.totalReviewScore,a=e.reviewTimes,n=0;(n=e.score?e.score:a?t/a:0)>5&&(n=5);for(var r=window.parseInt(n),o=[],s=1;s<=r;s++)o.push(c.a.createElement("img",{src:O.a,alt:"",key:s}));n&&n<5&&(n+"").split(".")[1]&&o.push(c.a.createElement("img",{src:k.a,alt:"",key:o.length+1}));for(;o.length<5;)o.push(c.a.createElement("img",{src:x.a,alt:"",key:o.length+1}));return o}())},P=(a(230),a(121)),T=a.n(P),D=a(38),M=a.n(D),L=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={pictureUrls:[]},a.setPic=function(e){return function(){a.setState({showModal:!a.state.showModal,pictureUrls:e})}},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;M.a.tz.setDefault("UTC");var t=this.props.reviews||[];return c.a.createElement("div",{className:A.a.review_page},function(){var a=[];return t.forEach(function(t,n){var r=t.review,o=void 0===r?{}:r;o.reviewTime||(o=t.foodItemReview),a.push(c.a.createElement("div",{className:A.a.reviews_card,key:n},c.a.createElement("div",{className:A.a.reviews_header},t.customerAvatarPictureUrl&&c.a.createElement("img",{src:t.customerAvatarPictureUrl,alt:""}),c.a.createElement("div",{className:A.a.reviews_info},c.a.createElement("span",null,t.customerUserName),c.a.createElement("div",{style:{marginTop:"0.05rem"}},c.a.createElement(S,{score:o[e.props.reviewStr||"comprehensiveScore"]}))),c.a.createElement("span",null,M()(o.reviewTime||o.reviewAt).tz("America/Los_Angeles").format("HH:mm:ss MM/DD/YYYY"))),c.a.createElement("p",{className:A.a.reviews_message},o.scoreContent),c.a.createElement("div",{className:A.a.reviews_imgs},function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map(function(a,n){return c.a.createElement("div",{key:n,onClick:e.setPic(t)},c.a.createElement("img",{src:a,alt:""}))})}(t.pictureUrls))))}),a}(),this.state.showModal&&this.props.bannerPirture&&c.a.createElement("div",{className:A.a.review_modal,onClick:function(){e.setState({showModal:!e.state.showModal})}},c.a.createElement(T.a,{className:A.a.carousel,autoplay:!1,infinite:!0,beforeChange:function(e,t){return console.log("slide from ".concat(e," to ").concat(t))},afterChange:function(e){return console.log("slide to",e)}},e.state.pictureUrls.map(function(e,t){return-1===e.indexOf("http")&&(e="https://"+e),c.a.createElement("div",{key:t},c.a.createElement("img",{src:e,alt:""}))}))))}}]),t}(o.Component);function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return void 0===t&&(t=12),+parseFloat(e.toPrecision(t))}function B(e){var t=e.toString().split(/[eE]/),a=(t[0].split(".")[1]||"").length-+(t[1]||0);return a>0?a:0}function G(e){if(-1===e.toString().indexOf("e"))return Number(e.toString().replace(".",""));var t=B(e);return t>0?R(e*Math.pow(10,t)):e}function U(e){(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)&&console.warn(e+" is beyond boundary when transfer to integer, the results may not be accurate")}function H(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=[],n=2;n<arguments.length;n++)a[n-2]=arguments[n];if(a.length>0)return H.apply(void 0,[H(e,t),a[0]].concat(a.slice(1)));var r=G(e),o=G(t),c=B(e)+B(t),s=r*o;return U(s),s/Math.pow(10,c)}function F(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=[],n=2;n<arguments.length;n++)a[n-2]=arguments[n];if(a.length>0)return F.apply(void 0,[F(e,t),a[0]].concat(a.slice(1)));var r=Math.pow(10,Math.max(B(e),B(t)));return(H(e,r)+H(t,r))/r}function Y(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=[],n=2;n<arguments.length;n++)a[n-2]=arguments[n];if(a.length>0)return Y.apply(void 0,[Y(e,t),a[0]].concat(a.slice(1)));var r=Math.pow(10,Math.max(B(e),B(t)));return(H(e,r)-H(t,r))/r}function V(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=[],n=2;n<arguments.length;n++)a[n-2]=arguments[n];if(a.length>0)return V.apply(void 0,[V(e,t),a[0]].concat(a.slice(1)));var r=G(e),o=G(t);return U(r),U(o),H(r/o,Math.pow(10,B(t)-B(e)))}function z(e,t){var a=Math.pow(10,t);return V(Math.round(H(e,a)),a)}var W=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.businessInfo,a=e.reviews,n=void 0===a?[]:a;return c.a.createElement("div",{className:y.a.reviews},c.a.createElement("div",{className:y.a.reviews_title},c.a.createElement("span",null,R(t.totalReviewScore/t.reviewTimes,2)),c.a.createElement(S,{score:R(t.totalReviewScore/t.reviewTimes,2)}),c.a.createElement("span",null,t.reviewTimes," Ratings")),c.a.createElement(L,{reviews:n,reviewStr:this.props.reviewStr,bannerPirture:!0}))}}]),t}(c.a.Component);function K(e){return function(t){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(l.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).hocLink=function(e){return function(){window.location.href=e}},t}return Object(u.a)(a,t),Object(i.a)(a,[{key:"showLoading",value:function(){_.a.loading("Loading...")}},{key:"hideLoading",value:function(){_.a.hide()}},{key:"render",value:function(){return c.a.createElement(e,Object.assign({},this.props,{hocLink:this.hocLink,showLoading:this.showLoading,hideLoading:this.hideLoading}))}}]),a}(o.Component)}var Q=a(25),J=a.n(Q),Z=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={visible:!0,seconds:a.props.seconds||10},a.closeModal=function(){a.props.close&&a.props.close()},a.timeServer=function(){a.timeout=setTimeout(function(){if(0===a.state.seconds)return a.timeout=null,a.props.onOk&&a.onOk(),!1;a.setState({seconds:a.state.seconds-1}),a.timeServer()},1e3)},a.onOk=function(){a.props.close(),a.props.onOk()},a.timeout=null,a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.hideSeconds||this.timeServer()}},{key:"render",value:function(){var e=this.props.className;return c.a.createElement("div",{className:A.a.modal,onClick:this.closeModal},c.a.createElement("div",{className:A.a.modal_body},c.a.createElement("div",{onClick:function(e){e.stopPropagation()},className:"".concat(A.a.modal_content," ").concat(e||"")},this.props.title&&c.a.createElement("p",{className:A.a.modal_title},this.props.title),this.props.content&&c.a.createElement("p",{className:A.a.modal_info},this.props.content),this.props.children,!this.props.hideBtn&&c.a.createElement("div",{className:A.a.modal_btn,onClick:this.props.onOk},this.props.btnText?this.props.btnText:"Sure",!this.props.hideSeconds&&c.a.createElement("span",null,"\uff08",this.state.seconds,"s\uff09")))))}}]),t}(o.Component),$=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={itemCancel:!1},a.itemCancel=function(){a.setState({itemCancel:!a.state.itemCancel})},a.sureConfrim=function(){a.props.onChange(a.props.value-1)},a.plus=function(){var e=a.props.value||0;a.props.onChange(e+1)},a.min=function(){var e=a.props.value-1;a.props.validZero&&0===e?(a.setState({name:a.props.name}),a.itemCancel()):a.props.onChange(a.props.value-1)},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:A.a.content_calc},this.props.value?c.a.createElement("span",{className:A.a.content_min,onClick:this.min}):null,this.props.value?c.a.createElement("span",{className:A.a.content_num},this.props.value):null,c.a.createElement("span",{className:A.a.content_plus,onClick:this.plus}),this.state.itemCancel&&c.a.createElement(Z,{btnText:"Confirm",title:"Remove this item",content:this.state.name,hideBtn:!0,hideSeconds:!0,close:this.itemCancel},c.a.createElement("div",{className:A.a.btn_list},c.a.createElement("span",{onClick:this.itemCancel},"Cancel"),c.a.createElement("span",{onClick:this.sureConfrim},"Confirm"))))}}]),t}(o.Component),X=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).getFoodItemsDetail=function(e){return a.props.dispatch({type:"orders/getFoodItemsDetail",payload:{foodItemId:e}})},a.reviewsFoodItem=function(e){return a.props.dispatch({type:"orderInfo/reviewsFoodItem",payload:{foodItemId:e}})},a.hocLink=function(){window.history.go(-1)},a.orderChange=function(e){return function(t){a.props.dispatch({type:"orders/orderNumChange",payload:{foodItemId:e,num:t}})}};var n=a.props.foodItemId;return a.state={foodItemId:n},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){_.a.loading("Loading...")}},{key:"componentDidMount",value:function(){var e=this.state.foodItemId;this.getFoodItemsDetail(e),this.reviewsFoodItem(e).then(function(){_.a.hide()}),this.foodItemPicGet()}},{key:"foodItemPicGet",value:function(){var e=this,t=this.props.orders.getFoodItemsDetail,a=void 0===t?{}:t;this.props.dispatch({type:"orderInfo/foodItemPicGet",payload:{foodItemId:this.state.foodItemId}}).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=a.foodItem,r=void 0===n?{}:n;r.primaryPictureUrl&&t.unshift({pictureUrl:r.primaryPictureUrl}),e.setState({pictureUrl:t})})}},{key:"render",value:function(){var e=this,t=this.props.orderInfo.reviewsFoodItemList,a=void 0===t?{}:t,n=this.props.orders.getFoodItemsDetail,r=void 0===n?{}:n,o=r.foodItem,s=void 0===o?{}:o;return c.a.createElement("div",{className:J.a.info},c.a.createElement("div",{className:J.a.section_info},c.a.createElement("div",{className:J.a.banner},c.a.createElement(T.a,{autoplay:!1,infinite:!0},(e.state.pictureUrl||[]).map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=e.pictureUrl;return c.a.createElement("a",{key:t,href:"javascrip:;",className:J.a.bannerList},c.a.createElement("img",{src:a,alt:""}))}))),c.a.createElement("div",{className:J.a.info_body},c.a.createElement("div",{className:J.a.info_title},c.a.createElement("span",null,s.name)),c.a.createElement("div",{className:J.a.info_content},c.a.createElement("div",{className:J.a.info_content_left},c.a.createElement("div",{className:J.a.info_price},c.a.createElement("span",null,"$",s.dailySpecialPrice?s.dailySpecialPrice:s.price),!!s.dailySpecialPrice&&c.a.createElement("span",{className:J.a.content_card_originPrice},"$",s.price)),c.a.createElement("div",{className:J.a.info_star},c.a.createElement(S,{totalReviewScore:s.totalReviewScore,reviewTimes:s.reviewTimes}),s.reviewTimes?c.a.createElement("span",null,R(s.totalReviewScore/s.reviewTimes,2)):c.a.createElement("span",null,"0.0"),c.a.createElement("span",null,r.orderTimes," sold"))),c.a.createElement($,{value:s.num,onChange:this.orderChange(s.foodItemId)})),c.a.createElement("div",{className:J.a.info_footer},c.a.createElement("span",{className:J.a.info_footer_subtitle},"Ingredients"),c.a.createElement("p",null,s.complementaryIngredient||s.primaryIngredient)),c.a.createElement("div",{className:J.a.info_reviews},"Reviews"),c.a.createElement(L,{reviews:a,reviewStr:"score",bannerPirture:!0}))),c.a.createElement("div",{className:J.a.footer,onClick:this.props.close},c.a.createElement("div",{className:J.a.cart},c.a.createElement("span",null,"Back to menu"))))}}]),t}(o.Component),q=Object(n.connect)(function(e){return{orderInfo:e.orderInfo,orders:e.orders}})(X),ee=a(31),te=a.n(ee),ae=a(26),ne=a.n(ae),re=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:ne()(A.a.view,this.props.className)},this.props.title&&c.a.createElement("div",{className:A.a.title},this.props.title),c.a.createElement("div",{className:A.a.view_body},this.props.children),this.props.footer)}}]),t}(o.Component),oe=a(62),ce=a(44),se=a.n(ce),ie=a(242),le=a.n(ie),de=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={canConfirm:!1,firstDigit:"",secDigit:""},a.onSure=function(){var e=a.state.firstDigit+a.state.secDigit;a.props.lastTwoDigit===e?a.props.onSure():_.a.info("Please find the last two digits of your Order ID on your order ticket the staff has stuck on your table.",3)},a.firstInputChange=function(e){var t=e.target.value;t&&t.length>=1?(a.setState({firstDigit:t.substr(t.length-1,t.length)}),a.secInput()):a.setState({firstDigit:""})},a.secInputChange=function(e){var t=e.target.value;t&&t.length>=1?(a.setState({secDigit:t.substr(t.length-1,t.length)}),a.state.firstDigit||a.firstInput()):a.setState({secDigit:""})},a.firstInput=a.firstInput.bind(Object(oe.a)(a)),a.secInput=a.secInput.bind(Object(oe.a)(a)),console.log(a.props.lastTwoDigit),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"firstInput",value:function(){this.firstTextInput.focus()}},{key:"secInput",value:function(){this.secTextInput.focus()}},{key:"render",value:function(){var e=this,t=ne.a.bind(se.a)(se.a.confirm_footer,{can_confirm:this.state.canConfirm});return c.a.createElement("div",{className:"".concat(se.a.view," ").concat(se.a.confirm_view)},c.a.createElement("div",{className:se.a.title},"Confirm your table"),c.a.createElement("div",{className:se.a.view_body},c.a.createElement("p",null,"Please find the last two digits of your Order ID on your order ticket the staff has stuck on your table."),c.a.createElement("div",{className:se.a.enter_table},c.a.createElement("input",{type:"text",onChange:this.firstInputChange,value:this.state.firstDigit,ref:function(t){e.firstTextInput=t}}),c.a.createElement("input",{type:"text",value:this.state.secDigit,onChange:this.secInputChange,ref:function(t){e.secTextInput=t}})),c.a.createElement("div",{className:se.a.confirm_example},c.a.createElement("span",null,"Order ticket example:"),c.a.createElement("img",{src:le.a,alt:""}))),c.a.createElement("div",{className:t},c.a.createElement("span",{onClick:this.onSure},"Confirm")))}}]),t}(o.Component),ue="The staff will bring the food to you once it's ready. Thank you for your patience.",pe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={dinnerIn:!0,visible:!1,modalContent:ue,itemCancel:!1,orderInfo:{}},a.scanOrder=function(e){a.props.dispatch({type:"orderInfo/scanOrder",payload:Object(v.a)({},e)}).then(function(e){a.setState({orderInfo:e}),a.orderdishes({orderId:e.orderId})})},a.orderdishes=function(e){a.props.dispatch({type:"orders/orderdishes",payload:Object(v.a)({},e)}).then(function(e){_.a.hide(),a.setState({orderList:e})})},a.dinnerIn=function(e){return function(){var t="";t=!0===e?ue:"",a.setState({dinnerIn:e,modalContent:t})}},a.watchPhone=function(e){var t=e.target.value,n=void 0===t?"":t;if(n.length>11)return!1;n.length>0?a.setState({phoneNumber:n,showCloseIcon:!0}):a.setState({showCloseIcon:!1})},a.clearPhone=function(){a.setState({phoneNumber:""})},a.checkOrderConfirm=function(){var e=a.props.orders,t=e.tableInfo,n=e.foodItems,r=!1;if((void 0===n?[]:n).forEach(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments.length>1&&arguments[1];e.foodItem.num&&(r=!0)}),!r)return _.a.info("cart is empty",2),!1;"OCCUPIED"===t.state?a.eatInStore():a.toggleVisible()},a.toggleVisible=function(){a.setState({visible:!a.state.visible})},a.orderChange=function(e){return function(t){a.props.dispatch({type:"orders/orderNumChange",payload:{foodItemId:e,num:t}})}},a.eatInStore=function(){var e=a.props.orders,t=e.foodItems,n=e.tableInfo,r=a.state.orderInfo,o=[];t.forEach(function(e){e.foodItem.num&&o.push({foodItemCount:e.foodItem.num,foodItemId:e.foodItem.foodItemId})});var c="orders/eatInStore",s={foodItems:o,storeId:a.props.storeId,tableNumber:a.props.tableNumber};if("OCCUPIED"===n.state&&(c="orders/addMoreDishes",s.lastTwoDigit=r.uuid.substring(6,8),!a.state.digitVaild))return a.setState({orderConfirm:!0,lastTwoDigit:s.lastTwoDigit}),!1;_.a.loading("loading"),a.props.dispatch({type:c,payload:s}).then(function(e){_.a.hide(),200===e.code?(a.props.dispatch({type:"orders/printDishes",payload:{orderId:e.data.orderId}}),window.location.href="#/orderCheck?orderId=".concat(e.data.orderId)):_.a.info(e.message,1)})},a.addMoreDish=function(){a.setState({digitVaild:!0},function(){a.eatInStore()})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t={storeId:this.props.storeId,tableNumber:this.props.tableNumber};this.getTableStatus(t).then(function(){"OCCUPIED"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).state&&(_.a.loading("loading"),e.scanOrder(t))})}},{key:"getTableStatus",value:function(e){return this.props.dispatch({type:"orders/tablesStatus",payload:e})}},{key:"render",value:function(){var e=this,t=this.props.orders,a=t.foodItems,n=void 0===a?[]:a,r=t.totalPrice,o=t.businessInfo,s=t.tableInfo,i=void 0===s?{}:s,l=this.state,d=l.orderList,u=void 0===d?[]:d,p=l.orderInfo;return c.a.createElement(re,{title:"Cart",className:"".concat(te.a.order_preview),footer:c.a.createElement("div",{className:te.a.confirm_footer},c.a.createElement("span",{onClick:this.checkOrderConfirm},"Place order"),c.a.createElement("span",{style:{marginTop:"0.08rem"},onClick:this.props.close},"Back to menu"))},this.state.orderConfirm&&c.a.createElement(de,{onSure:this.addMoreDish,lastTwoDigit:this.state.lastTwoDigit}),c.a.createElement("div",{className:te.a.title},o.storeName),c.a.createElement("p",{className:te.a.in_your_cart},"In your cart"),c.a.createElement("div",null,n.map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,n=t.foodItem;return n.num?c.a.createElement("div",{className:te.a.card,key:a},c.a.createElement("img",{src:"".concat(n.primaryPictureUrl),alt:""}),c.a.createElement("div",{className:te.a.card_info},c.a.createElement("span",null,n.name),c.a.createElement("p",null,n.dailySpecialPrice?c.a.createElement("span",null,"$",n.dailySpecialPrice):c.a.createElement("span",null,"$",n.price))),c.a.createElement($,{value:n.num,validZero:!0,confirm:e.sureConfrim,name:n.name,onChange:e.orderChange(n.foodItemId)})):null})),"OCCUPIED"===i.state&&c.a.createElement("div",{style:{opacity:"0.6"}},c.a.createElement("p",{className:te.a.in_your_cart},"already ordered"),u.map(function(e,t){var a=e.foodItem,n=a.primaryPictureUrl;return c.a.createElement("div",{className:"".concat(te.a.card," ").concat(te.a.card_spe),key:t},c.a.createElement("img",{src:n,alt:""}),c.a.createElement("div",{className:te.a.card_info},c.a.createElement("span",null,a.name),c.a.createElement("p",null,a.dailySpecialPrice?c.a.createElement("span",null,"$",a.dailySpecialPrice):c.a.createElement("span",null,"$",a.price))),c.a.createElement("span",{style:{color:"#27231F",width:"50px"}},"x",e.foodItemCount),c.a.createElement("span",{style:{color:"#27231F"}},"$",e.aggregatedPrice))})),c.a.createElement("div",{className:te.a.price},c.a.createElement("div",{className:te.a.line_flex},c.a.createElement("span",null,"Subtotal:"),c.a.createElement("span",null,c.a.createElement("b",null,"$",F(r,p.subTotal))))),c.a.createElement("div",{style:{paddingBottom:"0.24rem"}}),this.state.visible&&c.a.createElement(Z,{close:this.toggleVisible,seconds:5,title:"You have placed your order",content:this.state.modalContent,btnText:"Check My Order",onOk:this.eatInStore}))}}]),t}(o.Component),me=Object(n.connect)(function(e){return{orders:e.orders,orderInfo:e.orderInfo}})(pe),he=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a.orderChange=function(e){return function(t){a.props.dispatch({type:"orders/orderNumChange",payload:{foodItemId:e,num:t}})}},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.foodItems,n=void 0===a?[]:a,r=t.category,o=t.categoryIndex;return c.a.createElement("div",{className:y.a.menu_section},c.a.createElement("div",{className:y.a.content_menu},function(){var t=[];return r.forEach(function(a,n){var r="",o=e.props.categoryIndex;o===n?r=y.a.active:o-1===n?r=y.a.pre_active:o+1===n&&(r=y.a.after_active),t.push(c.a.createElement("span",{key:n,className:r,onClick:e.props.setCategoryIndex(n)},function(e){for(var t=e.toLowerCase().split(" "),a=0;a<t.length;a++)t[a]=t[a][0].toUpperCase()+t[a].substring(1,t[a].length);return t.join(" ")}(a)))}),t}()),c.a.createElement("div",{className:y.a.content_list},function(){var t=[],a=r[o];return n.forEach(function(n,r){var o=n.foodItem;n.foodItem.category===a&&t.push(c.a.createElement("div",{className:y.a.content_card,key:r},c.a.createElement("div",{className:y.a.content_card_title},c.a.createElement("span",null,o.name)),c.a.createElement("div",{className:y.a.content_card_body},c.a.createElement("img",{src:o.primaryPictureUrl,alt:"",onClick:e.props.toggleShowOrderInfo(o.foodItemId)}),c.a.createElement("div",{className:y.a.content_card_intro},c.a.createElement("div",{className:y.a.content_card_section},c.a.createElement("span",{className:y.a.content_card_amount},"$",o.dailySpecialPrice?o.dailySpecialPrice:o.price),!!o.dailySpecialPrice&&c.a.createElement("span",{className:y.a.content_card_originPrice},"$",o.price)),c.a.createElement("div",{className:y.a.detail_card_star},c.a.createElement(S,{totalReviewScore:o.totalReviewScore,reviewTimes:o.reviewTimes})),c.a.createElement("div",{className:y.a.content_sold},c.a.createElement("span",null,n.orderTimes," sold"),c.a.createElement($,{value:o.num,onChange:e.orderChange(o.foodItemId)}))))))}),t}()))}}]),t}(o.Component),fe={get:function(e,t){var a=t||window.location.href,n=e.replace(/[\[\]]/g,"\\$&"),r=new RegExp("[?&]".concat(n,"(=([^&#]*)|&|#|$)")).exec(a);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null},replace:function(e,t,a){var n=a||window.location.href.toString(),r=new RegExp("".concat(e,"=[^&]*"),"gi");return(void 0===t||null===t||""===t?n.replace(r,""):n.replace(r,"".concat(e,"=").concat(t))).replace(/\?$/,"")},getAllParams:function(e){var t={};if(!e)return t;var a=new URL(e),n=new URLSearchParams(a.search),r=!0,o=!1,c=void 0;try{for(var s,i=n[Symbol.iterator]();!(r=(s=i.next()).done);r=!0){var l=s.value;t[l[0]]=l[1]}}catch(d){o=!0,c=d}finally{try{r||null==i.return||i.return()}finally{if(o)throw c}}return t}},_e=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).scanOrder=function(e){return a.props.dispatch({type:"orderInfo/scanOrder",payload:Object(v.a)({},e)})},a.setTab=function(e){return function(){a.setState({tab:e})}},a.setCategoryIndex=function(e){return function(){a.setState({categoryIndex:e})}},a.toggleShowOrderInfo=function(e){return function(){a.setState({foodItemId:e,showOrderInfo:!a.state.showOrderInfo})}},a.toggleOrderPreview=function(){a.setState({showOrderPreview:!a.state.showOrderPreview})};var n=fe.get("check",window.location.href);return a.state={tab:1,storeId:window.sessionStorage.storeId,tableNumber:window.sessionStorage.tableNumber,categoryIndex:0,showOrderPreview:!1,check:n},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.props.showLoading()}},{key:"componentDidMount",value:function(){var e=this,t=this.state.storeId;this.scanOrder({storeId:this.state.storeId,tableNumber:this.state.tableNumber}).then(function(t){t&&"ONGOING"===t.state&&t.payTimes>0?window.location.href="#/paymentPreview?orderId=".concat(t.orderId):t&&"ONGOING"===t.state&&!e.state.check&&(window.location.href="#/orderCheck?orderId=".concat(t.orderId))}),this.getBusinessInfo(t).then(function(){e.getFoodItems(t).then(function(){e.props.hideLoading()})}),this.getLabels(t),this.reviews(t)}},{key:"getBusinessInfo",value:function(e){return this.props.dispatch({type:"orders/getBusinessInfo",payload:{storeId:e}})}},{key:"getFoodItems",value:function(e){return this.props.dispatch({type:"orders/getFoodItems",payload:{storeId:e}})}},{key:"getLabels",value:function(e){return this.props.dispatch({type:"orders/customerLabels",payload:{storeId:e}})}},{key:"reviews",value:function(e){return this.props.dispatch({type:"orders/reviews",payload:{storeId:e}})}},{key:"render",value:function(){var e=this.props.orders,t=e.businessInfo,a=void 0===t?{}:t,n=e.foodItems,r=void 0===n?[]:n,o=e.labelsList,s=e.category,i=e.totalNum,l=e.totalPrice,d=e.reviewsList;return c.a.createElement("div",{className:y.a.orders,style:{background:"url(\n            ".concat(a.avatarPictureUrl,"\n          )")}},this.state.showOrderInfo&&c.a.createElement(q,{foodItemId:this.state.foodItemId,close:this.toggleShowOrderInfo()}),this.state.showOrderPreview&&c.a.createElement(me,{storeId:this.state.storeId||"109",tableNumber:this.state.tableNumber||"a010",close:this.toggleOrderPreview}),c.a.createElement("div",{className:y.a.header},c.a.createElement("img",{src:a.logoPictureUrl,alt:""}),c.a.createElement("div",null,c.a.createElement("div",{className:y.a.title},a.storeName),c.a.createElement("div",{className:y.a.subtitle},c.a.createElement("span",null,a.orderTimes," visits")))),c.a.createElement("div",{className:y.a.content},c.a.createElement("div",{className:y.a.content_nav},c.a.createElement("span",{className:1===this.state.tab?y.a.active:"",onClick:this.setTab(1)},"Menu"),c.a.createElement("span",{className:2===this.state.tab?y.a.active:"",onClick:this.setTab(2)},"About"),c.a.createElement("span",{className:3===this.state.tab?y.a.active:"",onClick:this.setTab(3)},"Reviews")),1===this.state.tab&&c.a.createElement("div",{className:y.a.content_body},c.a.createElement(he,Object.assign({},this.props,{setCategoryIndex:this.setCategoryIndex,foodItems:r,category:s,categoryIndex:this.state.categoryIndex,toggleShowOrderInfo:this.toggleShowOrderInfo}))),2===this.state.tab&&c.a.createElement("div",{className:y.a.content_body},c.a.createElement(E,Object.assign({},this.props,{businessInfo:a,labels:o}))),3===this.state.tab&&c.a.createElement("div",{className:y.a.content_body},c.a.createElement(W,{businessInfo:a,reviews:d,reviewStr:"comprehensiveScore"}))),i>0?c.a.createElement("div",{className:y.a.footer,onClick:this.toggleOrderPreview},c.a.createElement("div",{className:y.a.cart},c.a.createElement("span",null,"Cart (",i,")"),c.a.createElement("b",null),c.a.createElement("span",null,"$",l))):c.a.createElement("div",{className:y.a.footer,onClick:function(){_.a.info("Please choose your dishes first",1)}},c.a.createElement("div",{className:y.a.cart},c.a.createElement("span",null,"Cart"))))}}]),t}(c.a.Component),ve=Object(n.connect)(function(){return{orders:(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).orders}})(K(_e)),be=a(15),ye=a.n(be),ge=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:A.a.info},c.a.createElement("span",null,this.props.label),c.a.createElement("span",{className:"".concat(this.props.bold?A.a.bold:"")},this.props.content))}}]),t}(o.Component),we=a(243),Ee=a.n(we),Ie=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).transactionsOrder=function(e){a.props.dispatch({type:"global/transactionsOrder",payload:Object(v.a)({},e)}).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];a.setState({paymentList:e})})},a.orderDetail=function(e){a.props.dispatch({type:"orders/orderDetail",payload:Object(v.a)({},e)}).then(function(e){a.props.hideLoading(),a.setState({orderInfo:e,uuid:e.uuid&&e.uuid.substring(4,6)})})},a.orderdishes=function(e){a.props.dispatch({type:"orders/orderdishes",payload:Object(v.a)({},e)}).then(function(e){a.props.hideLoading(),a.setState({scanDishes:e})})},a.scanOrder=function(e){a.props.dispatch({type:"orderInfo/scanOrder",payload:Object(v.a)({},e)}).then(function(e){a.setState({orderInfo:e})})},a.scanDishes=function(e){a.props.dispatch({type:"orderInfo/scanDishes",payload:Object(v.a)({},e)}).then(function(e){a.props.hideLoading(),a.setState({scanDishes:e})})},a.watchEmail=function(e){var t=e.target.value,n=void 0===t?"":t;/\w+@[a-z0-9]+\.[a-z]{2,4}/.test(n)?a.setState({canSubmit:!0}):a.setState({canSubmit:!1}),n.length>0?a.setState({email:n,showCloseIcon:!0}):a.setState({showCloseIcon:!1,email:""})},a.clearPhone=function(){a.setState({email:"",canSubmit:!1,showCloseIcon:!1})},a.onOk=function(){a.props.showLoading(),a.props.dispatch({type:"global/emailReceipt",payload:{orderId:a.state.orderId,email:a.state.email}}).then(function(e){a.props.hideLoading(),200===e.code?_.a.info("Sent",2):e.message&&_.a.info(e.message)})},a.needHelp=function(){_.a.loading("loading"),a.props.dispatch({type:"global/needHelp",payload:{orderId:a.state.orderId}}).then(function(e){_.a.hide(),200===e.code?_.a.info("The staff has been notified. Please wait.",2):_.a.info(e.message||"error",1)})},M.a.tz.setDefault("UTC");var n=fe.get("orderId",window.location.href);return a.state={dinnerIn:!0,visible:!1,phoneNumber:"",orderId:n,tableNumber:window.sessionStorage.tableNumber,storeId:window.sessionStorage.storeId,scanDishes:[],orderInfo:{},email:""},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.props.showLoading(),this.getBusinessInfo(this.state.storeId),this.orderDetail({orderId:this.state.orderId}),this.orderdishes({orderId:this.state.orderId})}},{key:"getBusinessInfo",value:function(e){this.props.dispatch({type:"orders/getBusinessInfo",payload:{storeId:e}})}},{key:"render",value:function(){var e=this,t=this.props.orders.businessInfo,a=void 0===t?{}:t,n=this.state,r=n.scanDishes,o=void 0===r?[]:r,s=n.orderInfo,i=void 0===s?{}:s,l=this.state.paymentList,d=void 0===l?[]:l;return c.a.createElement(re,{title:"Order Summary",footer:c.a.createElement("div",null,"ONGOING"===i.state&&c.a.createElement("div",{className:"".concat(ye.a.btn_list," ").concat(i.payTimes>0?ye.a.btn_list_spe:"")},0===i.payTimes&&c.a.createElement("span",{onClick:this.props.hocLink("#/orders?check=1")},"Order more"),c.a.createElement("span",{className:ye.a.active,onClick:this.props.hocLink("#/paymentPreview?orderId=".concat(this.state.orderId))},"Payment")),"TOREVIEW"===i.state&&c.a.createElement("div",{className:ye.a.confirm_footer},c.a.createElement("span",{onClick:this.props.hocLink("#/review?orderId=".concat(this.state.orderId))},"Rate Now")))},c.a.createElement("div",{style:{paddingBottom:"0.24rem"}},c.a.createElement("div",{className:ye.a.title},a.storeName),c.a.createElement("p",{className:ye.a.cart_line},"Your order has been placed"),c.a.createElement("div",null,o.map(function(e,t){var a=e.foodItem,n=void 0===a?{}:a,r=n.primaryPictureUrl;return c.a.createElement("div",{className:"".concat(ye.a.card," ").concat(ye.a.card_spe),key:t},c.a.createElement("img",{src:"".concat(r),alt:""}),c.a.createElement("div",{className:ye.a.card_info},c.a.createElement("span",null,n.name),c.a.createElement("p",null,n.dailySpecialPrice?c.a.createElement("span",null,"$",n.dailySpecialPrice):c.a.createElement("span",null,"$",n.price))),c.a.createElement("span",{style:{color:"#27231F"}},"x",e.foodItemCount))})),"ONGOING"===i.state&&c.a.createElement("div",null,c.a.createElement("div",{className:ye.a.price},c.a.createElement(ge,{label:"Order ID:",content:"".concat(i.orderId)}),c.a.createElement(ge,{label:"Order time:",content:M()(i.lastUpdatedAt).tz("America/Los_Angeles").format("HH:mm:ss MM/DD/YYYY")})),"ONGOING"===i.state&&c.a.createElement("div",null,i.totalAmount===i.remainingBalance?c.a.createElement("div",{className:ye.a.price},c.a.createElement(ge,{label:"Subtotal:",content:"$".concat(i.subTotal),bold:!0})):c.a.createElement("div",{className:ye.a.price},c.a.createElement(ge,{label:"Subtotal:",content:"$".concat(i.subTotal)}),c.a.createElement(ge,{label:"Tax:",content:"$".concat(i.tax)}),c.a.createElement(ge,{label:"Order total:",content:"$".concat(R(i.subTotal+i.tax))}),c.a.createElement(ge,{label:"Paid:",content:"$".concat(R(i.totalAmount-i.remainingBalance))}),c.a.createElement(ge,{label:"Remaining balance:",content:"$".concat(i.remainingBalance),bold:!0})),c.a.createElement("img",{className:ye.a.order_help,src:Ee.a,alt:"",onClick:this.needHelp}))),("TOREVIEW"===i.state||"COMPLETED"===i.state)&&c.a.createElement("div",{className:ye.a.price},c.a.createElement(ge,{label:"Subtotal:",content:"$".concat(i.subTotal)}),c.a.createElement(ge,{label:"Tax:",content:"$".concat(i.tax)}),c.a.createElement(ge,{label:"Tips:",content:"$".concat(i.tip)}),c.a.createElement(ge,{label:"Total:",content:"$".concat(i.totalAmount),bold:!0})),("TOREVIEW"===i.state||"COMPLETED"===i.state)&&d.length>1&&c.a.createElement("div",{className:ye.a.price},c.a.createElement("div",null,function(){var t=d;return e.state.showMore||(t=[d[0]]),t.map(function(e,t){return c.a.createElement("div",{className:ye.a.payment_list},c.a.createElement(ge,{label:"Payment total:",content:"$".concat(e.payAmount)}),c.a.createElement(ge,{label:"Transaction ID:",content:e.transactionId}),c.a.createElement(ge,{label:"Payment time:",content:M()(e.createdAt).tz("America/Los_Angeles").format("HH:mm:ss MM/DD/YYYY")}))})}()),c.a.createElement("div",{className:"".concat(this.state.showMore&&ye.a.show_more," ").concat(ye.a.under_handle),onClick:function(){e.setState({showMore:!e.state.showMore})}},c.a.createElement("span",null,"More Payments"),c.a.createElement("i",{className:ye.a.detail_more}))),("TOREVIEW"===i.state||"COMPLETED"===i.state)&&c.a.createElement("div",{className:ye.a.enter},c.a.createElement("p",null,"Send receipt to email"),c.a.createElement("div",{className:ye.a.email},c.a.createElement("input",{type:"text",value:this.state.email,onChange:this.watchEmail,placeholder:"Your email address"}),this.state.showCloseIcon?c.a.createElement("i",{className:ye.a.field_close,onClick:this.clearPhone}):c.a.createElement("i",{className:ye.a.field_edit}),this.state.canSubmit?c.a.createElement("span",{className:ye.a.active,onClick:this.onOk},"Confirm"):c.a.createElement("span",null,"Confirm")))))}}]),t}(o.Component),Oe=Object(n.connect)(function(e){return{orders:e.orders}})(K(Ie)),Ce=a(37),ke=a.n(Ce),Ne=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={active:1},a.customerCoupons=function(){a.props.dispatch({type:"paymentPreview/customerCoupons"})},a.selectCoupon=function(e){return function(){a.setState({active:e})}},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return c.a.createElement(Z,{className:ke.a.card_gift,title:"Gift Card",hideBtn:!0},c.a.createElement("p",{className:ke.a.card_gift_title},"Only one gift card can be applied at a time."),c.a.createElement("div",{className:ke.a.card_gift_section},function(){for(var t=[],a=0;a<=2;a++)t.push(c.a.createElement("div",{onClick:e.selectCoupon(a),className:"".concat(ke.a.section," ").concat(e.state.active===a&&ke.a.active," ").concat(2===a?ke.a.expire:""),key:a},c.a.createElement("div",{className:ke.a.section_left},c.a.createElement("span",null,"$29"),c.a.createElement("span",null,"off")),c.a.createElement("div",{className:ke.a.card_line}),c.a.createElement("div",{className:ke.a.section_middle},c.a.createElement("span",null,"Expire:"),c.a.createElement("span",null,"08/22/2019")),c.a.createElement("i",{className:ke.a.sign_icon})));return t}()))}}]),t}(o.Component),xe=a(22),je=a.n(xe);function Ae(e,t){this.cover=null,this.ctx=null,this.scratchDiv=null,this.cardDiv=null,this.cHeight=0,this.cWidth=0,this.supportTouch=!1,this.events=[],this.startEventHandler=null,this.moveEventHandler=null,this.endEventHandler=null,this.opt={coverColor:"#C5C5C5",coverImg:"",ratio:.8,callback:null},this.init(e,t)}function Se(e,t){return Array.prototype.forEach.call(e,function(e,a){t(e,a)})}function Pe(e){e.preventDefault(),this.moveEventHandler=function(e){e.preventDefault();var t=this.supportTouch?e.touches[0]:e,a=this.cover.getBoundingClientRect(),n=document.documentElement.scrollTop||document.body.scrollTop,r=document.documentElement.scrollLeft||document.body.scrollLeft,o=t.pageX-a.left-r,c=t.pageY-a.top-n;this.ctx.beginPath(),this.ctx.fillStyle="#FFFFFF",this.ctx.globalCompositeOperation="destination-out",this.ctx.arc(o,c,10,0,2*Math.PI),this.ctx.fill()}.bind(this),this.cover.addEventListener(this.events[1],this.moveEventHandler,!1),this.endEventHandler=function(e){e.preventDefault(),this.opt.callback&&"function"===typeof this.opt.callback&&function(e,t,a){var n=e.getImageData(0,0,this.cWidth,this.cHeight),r=[];Se(n.data,function(e,t){var a=n.data[t+3];0===a&&r.push(a)}),r.length/n.data.length>a&&t&&"function"===typeof t&&t()}.call(this,this.ctx,this.opt.callback,this.opt.ratio);this.cover.removeEventListener(this.events[1],this.moveEventHandler,!1),document.removeEventListener(this.events[2],this.endEventHandler,!1)}.bind(this),document.addEventListener(this.events[2],this.endEventHandler,!1)}Ae.prototype.createCanvas=function(){if(this.cover=document.createElement("canvas"),this.cover.id="cover",this.cover.height=this.cHeight,this.cover.width=this.cWidth,this.ctx=this.cover.getContext("2d"),this.opt.coverImg){var e=this,t=new Image;t.src=this.opt.coverImg,t.onload=function(){e.ctx.drawImage(t,0,0,e.cover.width,e.cover.height)}}else this.ctx.fillStyle=this.opt.coverColor,this.ctx.fillRect(0,0,this.cover.width,this.cover.height);this.scratchDiv.appendChild(this.cover),this.cardDiv.style.opacity=1},Ae.prototype.eventDetect=function(){"ontouchstart"in window&&(this.supportTouch=!0),this.events=this.supportTouch?["touchstart","touchmove","touchend"]:["mousedown","mousemove","mouseup"],this.addEvent()},Ae.prototype.addEvent=function(){this.startEventHandler=Pe.bind(this),this.cover.addEventListener(this.events[0],this.startEventHandler,!1)},Ae.prototype.clearCover=function(){this.ctx.clearRect(0,0,this.cover.width,this.cover.height),this.cover.removeEventListener(this.events[0],this.startEventHandler),this.cover.removeEventListener(this.events[1],this.moveEventHandler),this.cover.removeEventListener(this.events[2],this.endEventHandler)},Ae.prototype.init=function(e,t){if(function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))}()){var a=this;Se(arguments,function(e){if("object"===typeof e)for(var t in e)"callback"===t&&"function"===typeof e[t]?a.opt.callback=e[t].bind(a):t in a.opt&&(a.opt[t]=e[t]);else"function"===typeof e&&(a.opt.callback=e.bind(a))}),this.scratchDiv=document.getElementById("scratch"),this.cardDiv=document.getElementById("card"),this.scratchDiv&&this.cardDiv&&(this.cHeight=this.cardDiv.clientHeight,this.cWidth=this.cardDiv.clientWidth,this.cardDiv.style.opacity=0,this.createCanvas(),this.eventDetect())}else alert("\u5bf9\u4e0d\u8d77\uff0c\u5f53\u524d\u6d4f\u89c8\u5668\u4e0d\u652f\u6301Canvas\uff0c\u65e0\u6cd5\u4f7f\u7528\u672c\u63a7\u4ef6\uff01")},Ae.case=function(e,t){return new Ae(e,t)};var Te=Ae.case,De=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).transactionsOrder=function(e){a.props.dispatch({type:"global/transactionsOrder",payload:Object(v.a)({},e)}).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];a.setState({paymentList:e})})},a.orderDetail=function(e){a.props.dispatch({type:"orders/orderDetail",payload:Object(v.a)({},e)}).then(function(e){a.props.hideLoading(),1!==e.isOfflinePay&&a.transactionsOrder({orderId:a.state.orderId}),a.setState({orderInfo:e})})},a.watchEmail=function(e){var t=e.target.value,n=void 0===t?"":t;/\w+@[a-z0-9]+\.[a-z]{2,4}/.test(n)?a.setState({canSubmit:!0}):a.setState({canSubmit:!1}),n.length>0?a.setState({email:n,showCloseIcon:!0}):a.setState({email:"",showCloseIcon:!1})},a.clearPhone=function(){a.setState({email:"",canSubmit:!1,showCloseIcon:!1})},a.toggleModal=function(){a.setState({visible:!a.state.visible})},a.onOk=function(){a.props.showLoading(),a.props.dispatch({type:"global/emailReceipt",payload:{orderId:a.state.orderId,email:a.state.email}}).then(function(e){a.props.hideLoading(),200===e.code?_.a.info("Sent",2):_.a.info("Error",2)})},M.a.tz.setDefault("UTC");var n=fe.get("orderId",window.location.href);return a.state={hasClick:!1,orderId:n,tableNumber:window.sessionStorage.tableNumber,storeId:window.sessionStorage.storeId,orderInfo:{},email:""},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.props.showLoading(),this.orderDetail({orderId:this.state.orderId}),this.luckyDraw(),this.getBusinessInfo(this.state.storeId)}},{key:"luckyDraw",value:function(){var e=this;this.props.dispatch({type:"global/luckyDraw"}).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.setState({luckyAmount:t.amount||0})})}},{key:"getBusinessInfo",value:function(e){this.props.dispatch({type:"orders/getBusinessInfo",payload:{storeId:e}})}},{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){Te({ratio:.4},function(){e.toggleModal(),this.clearCover()})},100)}},{key:"render",value:function(){var e=this,t=this.state,a=t.orderInfo,n=t.luckyAmount,r=void 0===n?0:n,o=this.props.orders.businessInfo,s=void 0===o?{}:o,i=this.state.paymentList||[],l=void 0;return l="COMPLETED"===a.state?c.a.createElement("div",null,c.a.createElement("span",{onClick:this.props.hocLink("#/orderCheck?orderId=".concat(this.state.orderId)),className:je.a.sep_btn},"My Order")):c.a.createElement("div",{className:je.a.btn_list},c.a.createElement("span",{onClick:this.props.hocLink("#/review?orderId=".concat(this.state.orderId))},"Rate Now"),c.a.createElement("span",{onClick:this.props.hocLink("#/orderCheck?orderId=".concat(this.state.orderId)),className:je.a.active},"My Order")),c.a.createElement(re,{title:"Payment Successful",footer:l},1===a.isOfflinePay?c.a.createElement("div",{className:je.a.offlinepayment},"The staff has been notified and will come to yout table shortly.",c.a.createElement("br",null),"Please wait."):c.a.createElement("div",{className:je.a.payment_icon},c.a.createElement("span",null,"Payment Successful")),c.a.createElement("div",{className:je.a.title},c.a.createElement("p",null,s.storeName),c.a.createElement("p",null,"$",a.totalAmount)),c.a.createElement("div",{className:je.a.can_lottery},c.a.createElement("div",null,c.a.createElement("p",null,"Congrats! "),c.a.createElement("p",null,"You've got a chance to win a sweepstake!"),c.a.createElement("div",{className:je.a.can_lottery_section},c.a.createElement("div",{id:"scratch",className:je.a.scratch},!this.state.hasClick&&c.a.createElement("span",{onClick:function(){e.setState({hasClick:!0})}},"Click here to start"),c.a.createElement("div",{id:"card",className:je.a.scratch_card},"$",r))))),c.a.createElement("div",{className:je.a.order_ino},i.length>0&&c.a.createElement(ge,{label:"Transaction ID:",content:i[i.length-1].transactionId}),c.a.createElement(ge,{label:"Time:",content:M()(a.lastUpdatedAt).tz("America/Los_Angeles").format("HH:mm:ss MM/DD/YYYY")})),this.state.luckyAmount&&c.a.createElement("div",{className:je.a.enter},c.a.createElement("p",null,"Send receipt to email"),c.a.createElement("div",{className:je.a.email},c.a.createElement("input",{type:"text",value:this.state.email,onChange:this.watchEmail,placeholder:"Your email address"}),this.state.showCloseIcon?c.a.createElement("i",{className:je.a.field_close,onClick:this.clearPhone}):c.a.createElement("i",{className:je.a.field_edit}),this.state.canSubmit?c.a.createElement("span",{className:je.a.active,onClick:this.onOk},"Confirm"):c.a.createElement("span",null,"Confirm"))),this.state.visible&&c.a.createElement(Z,{title:"Congrats!",close:this.toggleModal,hideSeconds:!0,btnText:"Download Now"},c.a.createElement("div",{className:je.a.gift_card},c.a.createElement("span",null,"You won a $",r," gift card!"),c.a.createElement("span",null,"Download our app to use it."))))}}]),t}(o.Component),Me=Object(n.connect)(function(e){return{orders:e.orders}})(K(De)),Le=a(42),Re=a(11),Be=a.n(Re),Ge=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:A.a.border})}}]),t}(o.Component),Ue=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={selectAmount:0},a.selectAmount=function(e){return function(){a.setState({selectAmount:e},function(){0===e&&a.onOk()})}},a.watchAmount=function(e){var t=e.target.value,n=void 0===t?"":t;n.length>0?a.setState({amount:n,showCloseIcon:!0}):a.setState({amount:n,showCloseIcon:!1})},a.clearPhone=function(){a.setState({amount:"",showCloseIcon:!1})},a.closeAmount=function(){a.props.closeAmount&&a.props.closeAmount()},a.onOk=function(){a.state.amount<=a.props.remainingBalance?a.props.onOk({payType:a.state.selectAmount,amount:a.state.amount}):1===a.state.selectAmount&&_.a.info("The input amount should be less than the total amount$".concat(a.props.remainingBalance),3)},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,this.props.visibleAmount&&c.a.createElement(Z,{hideBtn:!0,close:this.closeAmount,className:Be.a.modal},c.a.createElement("div",{className:Be.a.payment_modal},c.a.createElement("div",{className:"".concat(Be.a.line_select," ").concat(0===this.state.selectAmount?Be.a.active:""),onClick:this.selectAmount(0)},c.a.createElement("i",{className:Be.a.sign_icon}),c.a.createElement("span",null,"All the remaining balance")),c.a.createElement("div",{style:{marginLeft:"0.28rem"}},c.a.createElement(Ge,null)),c.a.createElement("div",{className:"".concat(Be.a.line_select," ").concat(1===this.state.selectAmount?Be.a.active:""),onClick:this.selectAmount(1)},c.a.createElement("i",{className:Be.a.sign_icon}),c.a.createElement("span",null,"Split the bill and pay the following amount")),1===this.state.selectAmount&&c.a.createElement("div",{className:Be.a.email},c.a.createElement("input",{type:"text",value:this.state.amount,onChange:this.watchAmount,placeholder:"Minimum: $10"}),this.state.showCloseIcon?c.a.createElement("i",{className:Be.a.field_close,onClick:this.clearPhone}):c.a.createElement("i",{className:Be.a.field_edit}),this.state.amount>=10?c.a.createElement("span",{className:Be.a.active,onClick:this.onOk},"Confirm"):c.a.createElement("span",null,"Confirm")))))}}]),t}(o.Component),He=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={selectAmount:0,amount:""},a.selectAmount=function(e){return function(){a.setState({selectAmount:e})}},a.watchNumer=function(e){var t=e.target.value,n=void 0===t?"":t;n.length>0?a.setState({amount:n,showCloseIcon:!0}):a.setState({amount:n,showCloseIcon:!1})},a.clearPhone=function(){a.setState({amount:"",showCloseIcon:!1})},a.close=function(){a.props.visibleRate&&a.props.close()},a.onOk=function(e){return function(){/^[0-9]+.?[0-9]*$/.test(e)?a.props.onOk(e):_.a.info("please enter a number >= 0",1)}},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,this.props.visibleRate&&c.a.createElement(Z,{hideBtn:!0,close:this.close,className:Be.a.modal},c.a.createElement("div",{className:Be.a.payment_modal},c.a.createElement("div",{className:Be.a.email,style:{margin:"0"}},c.a.createElement("input",{type:"text",value:this.state.amount,onChange:this.watchNumer,placeholder:"$0.00"}),this.state.showCloseIcon?c.a.createElement("i",{className:Be.a.field_close,onClick:this.clearPhone}):c.a.createElement("i",{className:Be.a.field_edit}),this.state.amount||0===this.state.amount?c.a.createElement("span",{className:Be.a.active,onClick:this.onOk(this.state.amount)},"Confirm"):c.a.createElement("span",null,"Confirm")))))}}]),t}(o.Component),Fe=a(63),Ye=a.n(Fe),Ve=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={cardnumber:"",expMonth:"",expYear:""},a.cardNumberChange=function(e){a.setState({cardnumber:e.target.value})},a.addbankCard=function(){var e=a.state,t=e.cardNumber,n=e.expMonth,r=e.expYear,o=e.cvs;a.props.dispatch({type:"bankCard/addbankCard",payload:{cardNumber:t,expMonth:n,expYear:r,cvs:o}})},a.inputChange=function(e){return function(t){if(("expMonth"===e||"expYear"===e)&&t.target.value.length>2)return!1;a.setState(Object(Le.a)({},e,t.target.value),function(){var e=a.state,t=e.cardNumber,n=e.expMonth,r=e.expYear,o=e.cvs;t&&n&&r&&o?a.setState({showBtn:!0}):a.setState({showBtn:!1}),a.props.bankInfo({cardNumber:t,expMonth:n,expYear:r,cvs:o})})}},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:Ye.a.page},c.a.createElement("p",null,"Enter your card information"),c.a.createElement("div",{className:Ye.a.bankcard_section},c.a.createElement("input",{className:Ye.a.bankcard_line,name:"addCreditCardNumber",type:"number",onChange:this.inputChange("cardNumber"),placeholder:"Card number"}),c.a.createElement("input",{className:Ye.a.bankcard_line,type:"number",onChange:this.inputChange("cvs"),placeholder:"CVV"}),c.a.createElement("span",{className:Ye.a.select_date},"Expiration date"),c.a.createElement("div",{className:"".concat(Ye.a.select_line)},c.a.createElement("input",{type:"number",placeholder:"MM",onChange:this.inputChange("expMonth"),value:this.state.expMonth,id:"creditCardMonth",name:"creditCardMonth"}),c.a.createElement("input",{type:"number",placeholder:"YY",id:"creditCardYear",value:this.state.expYear,onChange:this.inputChange("expYear"),name:"creditCardYear"}))))}}]),t}(o.Component),ze=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).scanOrder=function(e){a.props.dispatch({type:"orderInfo/scanOrder",payload:Object(v.a)({},e)}).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.totalAmount&&(a.setState({orderInfo:Object(v.a)({},e,{payAmount:e.remainingBalance})}),a.changeTips(.15)())})},a.scanDishes=function(e){a.props.dispatch({type:"orderInfo/scanDishes",payload:Object(v.a)({},e)}).then(function(e){a.props.hideLoading(),a.setState({scanDishes:e})})},a.toggleModal=function(e){return function(){a.setState(Object(Le.a)({},e,!a.state[e]))}},a.closeAmount=function(){a.toggleModal("visibleAmount")()},a.closeRate=function(){a.toggleModal("visibleRate")()},a.changeTips=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(){a.setState({orderInfo:Object(v.a)({},a.state.orderInfo,{tipRate:e}),hideTips:!1},function(){a.calcTotal()})}},a.hasSelectRate=function(e){a.setState({orderInfo:Object(v.a)({},a.state.orderInfo,{tipRate:0}),hideTips:!0,tipsPrice:e}),a.closeRate()},a.hasSelectAmount=function(e){var t=e.payType,n=e.amount;0===t?a.setState({payType:t,orderInfo:Object(v.a)({},a.state.orderInfo,{payAmount:a.state.orderInfo.remainingBalance})},function(){a.calcTotal()}):a.setState({payType:t,orderInfo:Object(v.a)({},a.state.orderInfo,{payAmount:n})},function(){a.calcTotal()}),a.closeAmount()},a.calcTotal=function(){var e=a.state.orderInfo;if(!a.state.hideTips){var t=z(H(e.tipRate,e.payAmount),2);a.setState({orderInfo:e,tipsPrice:t})}},a.checkOrderConfirm=function(){var e=a.state,t=e.orderInfo,n=e.bankInfo,r=t.orderId,o=t.subTotal,c=t.tax,s=t.totalAmount,i=t.payAmount,l=t.tipRate,d=void 0===l?0:l,u=n.cardNumber,p=n.expMonth,m=n.expYear,h=n.cvs;a.validBankInfo()?a.payments({orderId:r,subTotal:o,tax:c,tipRate:d,total:s,payAmount:i,tip:a.state.tipsPrice,cardNumber:u,expMonth:p,expYear:m,cvs:h}):!1===a.state.useBankCard&&a.offlinePay({orderId:r,subTotal:o,tax:c,total:s,payAmount:i,tip:a.state.tipsPrice,isOfflinePay:!0})},a.payments=function(e){a.props.showLoading();var t=a.state.orderInfo;a.props.dispatch({type:"paymentPreview/payments",payload:Object(v.a)({},e)}).then(function(n){200===n.code?(a.props.hideLoading(),a.props.dispatch({type:"paymentPreview/printCheckout",payload:{orderId:a.state.orderId}}),e.payAmount!==t.remainingBalance?a.props.hocLink("#/orderCheck?orderId=".concat(a.state.orderId))():a.props.hocLink("#/paymentResult?orderId=".concat(a.state.orderId))()):_.a.info(n.message||"error",2)})},a.offlinePay=function(e){a.props.showLoading(),a.props.dispatch({type:"paymentPreview/offlinePay",payload:Object(v.a)({},e)}).then(function(e){a.props.hideLoading(),200===e.code?(a.props.dispatch({type:"paymentPreview/printCheckout",payload:{orderId:a.state.orderId}}),a.props.hocLink("#/paymentResult?orderId=".concat(a.state.orderId))()):_.a.info(e.message||"error",2)})},a.bankCard=function(e){return function(){a.setState({useBankCard:e})}},a.bankInfo=function(e){a.setState({bankInfo:e})},a.validBankInfo=function(){if(a.state.useBankCard){var e=a.state.bankInfo,t=e.cardNumber,n=e.expMonth,r=e.expYear,o=e.cvs;return t?o?-1===["01","02","03","04","05","06","07","08","09","10","11","12"].indexOf(String(n))?(_.a.info("Invalid month",2),!1):r>=19?n?!!r||(_.a.info("Please enter your expYear",2),!1):(_.a.info("Please enter your expMonth",2),!1):(_.a.info("Invalid year",2),!1):(_.a.info("Please enter your card name",2),!1):(_.a.info("Please enter your card number",2),!1)}};var n=fe.get("orderId",window.location.href);return a.state={useBankCard:!0,visibleAmount:!1,selectAmount:0,orderId:n,tableNumber:window.sessionStorage.tableNumber,storeId:window.sessionStorage.storeId,scanDishes:[],cardInfo:{},bankInfo:{},orderInfo:{}},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.props.showLoading(),this.getBusinessInfo(this.state.storeId),this.scanOrder({tableNumber:this.state.tableNumber,storeId:this.state.storeId}),this.scanDishes({tableNumber:this.state.tableNumber,storeId:this.state.storeId})}},{key:"getBusinessInfo",value:function(e){this.props.dispatch({type:"orders/getBusinessInfo",payload:{storeId:e}})}},{key:"render",value:function(){var e=this,t=this.props.orders.businessInfo,a=void 0===t?{}:t,n=this.state,r=n.scanDishes,o=void 0===r?[]:r,s=n.orderInfo,i=void 0===s?{}:s,l=[.15,.2,.25,"other"];return c.a.createElement(re,{title:"Payment",footer:c.a.createElement("div",{className:Be.a.confirm_footer},c.a.createElement("span",{onClick:this.checkOrderConfirm},"Checkout\uff08$",F(i.payAmount,this.state.tipsPrice),"\uff09"))},c.a.createElement("div",{className:Be.a.title},a.storeName),c.a.createElement("div",{className:Be.a.card_padding},o.map(function(e,t){var a=e.foodItem;return c.a.createElement("div",{className:"".concat(Be.a.card," ").concat(Be.a.card_spe),key:t},c.a.createElement("div",{className:Be.a.card_info},c.a.createElement("span",null,a.name),c.a.createElement("p",null,a.dailySpecialPrice?c.a.createElement("span",null,"$",a.dailySpecialPrice):c.a.createElement("span",null,"$",a.price))),c.a.createElement("span",{style:{color:"#27231F",width:"50px"}},"x",e.foodItemCount),c.a.createElement("span",{style:{color:"#27231F"}},"$",e.aggregatedPrice))})),c.a.createElement("div",{className:Be.a.price},c.a.createElement(ge,{label:"Subtotal:",content:"$".concat(i.subTotal)})),c.a.createElement("div",{className:Be.a.price},c.a.createElement("div",{className:Be.a.line_flex},c.a.createElement("span",null,"Tax ",c.a.createElement("b",null,"x 10.1%")),c.a.createElement("span",null,"$",z(i.tax,2)))),c.a.createElement("div",{className:Be.a.price},c.a.createElement("div",{className:"".concat(Be.a.line_flex," ").concat(Be.a.line_flex_spe)},c.a.createElement("span",null,"Tips",!this.state.hideTips&&c.a.createElement("b",null,"x"),!this.state.hideTips&&c.a.createElement("strong",null,100*(i.tipRate||0),"%")),c.a.createElement("span",null,"$",this.state.tipsPrice)),c.a.createElement("div",{className:Be.a.line_tags},l.map(function(t,a){return"other"===t?c.a.createElement("span",{key:"other",onClick:e.toggleModal("visibleRate")},"other"):c.a.createElement("span",{key:a,className:i.tipRate===t?Be.a.active:"",onClick:e.changeTips(t)},100*t,"%")}))),c.a.createElement("div",{className:Be.a.price},c.a.createElement(ge,{label:"Order total:",content:"$".concat(F(i.payAmount,this.state.tipsPrice))}),c.a.createElement(ge,{label:"Paid:",content:"$".concat(Y(i.totalAmount,i.remainingBalance))}),c.a.createElement(ge,{label:"Remaining balance:",content:"$".concat(i.remainingBalance),bold:!0})),c.a.createElement("div",{className:Be.a.price},c.a.createElement("div",{className:Be.a.line_flex,onClick:this.toggleModal("visibleAmount")},c.a.createElement("span",null,"I\u2019d like to pay"),i.payAmount===i.remainingBalance?c.a.createElement("span",{className:Be.a.line_flex_auto},"All the remaining balance"):c.a.createElement("span",{className:Be.a.line_flex_auto},"$",i.payAmount),c.a.createElement("i",{className:Be.a.arrow_right}))),c.a.createElement("div",{className:Be.a.payment_method},0===i.payTimes&&1!==this.state.payType&&c.a.createElement("div",null,c.a.createElement("p",null,"Payment method:"),c.a.createElement("div",{className:Be.a.confirm_type},c.a.createElement("div",{className:this.state.useBankCard?Be.a.active:"",onClick:this.bankCard(!0)},c.a.createElement("i",{className:Be.a.sign_icon}),c.a.createElement("span",null,"Bank card")),c.a.createElement("div",{className:this.state.useBankCard?"":Be.a.active,onClick:this.bankCard(!1)},c.a.createElement("i",{className:Be.a.sign_icon}),c.a.createElement("span",null,"Payment offline")))),this.state.useBankCard&&c.a.createElement("div",null,c.a.createElement(Ve,{bankInfo:this.bankInfo}))),c.a.createElement(Ue,{closeAmount:this.closeAmount,onOk:this.hasSelectAmount,remainingBalance:this.state.orderInfo.remainingBalance,visibleAmount:this.state.visibleAmount}),c.a.createElement(He,{close:this.closeRate,visibleRate:this.state.visibleRate,onOk:this.hasSelectRate}))}}]),t}(o.Component),We=Object(n.connect)(function(e){return{orders:e.orders}})(K(ze)),Ke=(a(453),a(171)),Qe=a.n(Ke),Je=a(43),Ze=a(16),$e=a.n(Ze),Xe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a.setSelect=function(e){return function(){a.setState({imgIndex:e}),a.props.onChange(e+1)}},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"".concat(A.a.star_flex," ").concat(this.props.className?this.props.className:"")},function(){for(var t=[],a=0;a<=4;a++){var n=x.a;e.state.imgIndex>=a&&(n=O.a),t.push(c.a.createElement("img",{src:n,alt:"",key:a,onClick:e.setSelect(a)}))}return t}())}}]),t}(o.Component),qe=a(2),et=a.n(qe),tt=a(13),at=a(244),nt=a.n(at),rt=a(172),ot=a.n(rt);function ct(e){return e.json()}function st(e){return e.status>=200&&e.status,e}function it(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var a in t.body=t.body?t.body:{},t.headers={"Content-type":"application/json"},t.body)void 0===t.body[a]&&delete t.body[a];return"POST"!==t.method&&"PUT"!==t.method||(t.body=JSON.stringify(t.body)),"POSTFORM"===t.method&&(t.headers={"Content-type":"application/x-www-form-urlencoded",Authorization:"Basic ".concat(window.btoa("celesea-app:celesea"))},t.method="POST",t.body=ot.a.stringify(t.body)),"GET"===t.method&&t.body&&(t.body=Object(v.a)({},t.body),e="".concat(e,"?").concat(ot.a.stringify(t.body)),delete t.body),nt()(e,t).then(st).then(ct).then(function(e){return e}).catch(function(e){return{err:e}})}var lt="https://api.tableflash.com/v1";function dt(e){return ut.apply(this,arguments)}function ut(){return(ut=Object(tt.a)(et.a.mark(function e(t){return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",it(ca("stores/".concat(t.storeId)),{method:"GET"}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function pt(e){return mt.apply(this,arguments)}function mt(){return(mt=Object(tt.a)(et.a.mark(function e(t){return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",it(ca("foodItems"),{method:"GET",body:Object(v.a)({},t)}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ht(e){return ft.apply(this,arguments)}function ft(){return(ft=Object(tt.a)(et.a.mark(function e(t){return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",it(ca("hours/regular"),{method:"GET",body:Object(v.a)({},t)}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _t(e){return vt.apply(this,arguments)}function vt(){return(vt=Object(tt.a)(et.a.mark(function e(t){return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",it(ca("foodItems/".concat(t.foodItemId)),{method:"GET",body:Object(v.a)({},t)}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function bt(e){return yt.apply(this,arguments)}function yt(){return(yt=Object(tt.a)(et.a.mark(function e(t){return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",it(ca("reviews/store"),{method:"GET",body:Object(v.a)({},t)}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function gt(e){return wt.apply(this,arguments)}function wt(){return(wt=Object(tt.a)(et.a.mark(function e(t){return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",it(ca("reviews/foodItem"),{method:"GET",body:Object(v.a)({},t)}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Et(e){return It.apply(this,arguments)}function It(){return(It=Object(tt.a)(et.a.mark(function e(t){return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",it(ca("labels/customer"),{method:"GET",body:Object(v.a)({},t)}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ot(e){return Ct.apply(this,arguments)}function Ct(){return(Ct=Object(tt.a)(et.a.mark(function e(t){return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",it(ca("cards/customer"),{method:"POST",body:Object(v.a)({},t)}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function kt(e){return Nt.apply(this,arguments)}function Nt(){return(Nt=Object(tt.a)(et.a.mark(function e(t){return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",it(ca("payments/web/cardNumber"),{method:"POST",body:Object(v.a)({},t)}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function xt(e){return jt.apply(this,arguments)}function jt(){return(jt=Object(tt.a)(et.a.mark(function e(t){return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",it(ca("payments/offlinePay"),{method:"POST",body:Object(v.a)({},t)}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function At(e){return St.apply(this,arguments)}function St(){return(St=Object(tt.a)(et.a.mark(function e(t){return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",it(ca("orders/".concat(t.orderId)),{method:"GET",body:Object(v.a)({},t)}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Pt(e){return Tt.apply(this,arguments)}function Tt(){return(Tt=Object(tt.a)(et.a.mark(function e(t){return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",it(ca("orders/dishes"),{method:"GET",body:Object(v.a)({},t)}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Dt(e){return Mt.apply(this,arguments)}function Mt(){return(Mt=Object(tt.a)(et.a.mark(function e(t){return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",it(ca("reviews/web/storeAndFoodItem"),{method:"POST",body:Object(v.a)({},t)}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Lt(e){return Rt.apply(this,arguments)}function Rt(){return(Rt=Object(tt.a)(et.a.mark(function e(t){return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",it(ca("orders/emailReceipt?email=".concat(t.email,"&orderId=").concat(t.orderId)),{method:"POST",body:Object(v.a)({},t)}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Bt(){return Gt.apply(this,arguments)}function Gt(){return(Gt=Object(tt.a)(et.a.mark(function e(){var t,a=arguments;return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.abrupt("return",it(ca("customerCoupons/web/luckyDraw"),{method:"GET",body:Object(v.a)({},t)}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ut(e){return Ht.apply(this,arguments)}function Ht(){return(Ht=Object(tt.a)(et.a.mark(function e(t){return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",it(ca("pictures/foodItem/".concat(t.foodItemId)),{method:"GET",body:Object(v.a)({},t)}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ft(e){return Yt.apply(this,arguments)}function Yt(){return(Yt=Object(tt.a)(et.a.mark(function e(t){return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",it(ca("orders/web/eatInStore"),{method:"POST",body:Object(v.a)({},t)}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Vt(e){return zt.apply(this,arguments)}function zt(){return(zt=Object(tt.a)(et.a.mark(function e(t){return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",it(ca("orders/web/addMoreDishes"),{method:"POST",body:Object(v.a)({},t)}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Wt(e){return Kt.apply(this,arguments)}function Kt(){return(Kt=Object(tt.a)(et.a.mark(function e(t){return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",it(ca("orders/scan"),{method:"GET",body:Object(v.a)({},t)}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Qt(e){return Jt.apply(this,arguments)}function Jt(){return(Jt=Object(tt.a)(et.a.mark(function e(t){return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",it(ca("orders/scanDishes"),{method:"GET",body:Object(v.a)({},t)}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Zt(e){return $t.apply(this,arguments)}function $t(){return($t=Object(tt.a)(et.a.mark(function e(t){return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",it(ca("transactions/order"),{method:"GET",body:Object(v.a)({},t)}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Xt(e){return qt.apply(this,arguments)}function qt(){return(qt=Object(tt.a)(et.a.mark(function e(t){return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",it(ca("tables"),{method:"GET",body:Object(v.a)({},t)}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ea(e){return ta.apply(this,arguments)}function ta(){return(ta=Object(tt.a)(et.a.mark(function e(t){return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",it(ca("printers/help?orderId=".concat(t.orderId)),{method:"POST",body:Object(v.a)({},t)}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function aa(e){return na.apply(this,arguments)}function na(){return(na=Object(tt.a)(et.a.mark(function e(t){return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",it(ca("printers/dishes?orderId=".concat(t.orderId)),{method:"POST",body:Object(v.a)({},t)}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ra(e){return oa.apply(this,arguments)}function oa(){return(oa=Object(tt.a)(et.a.mark(function e(t){return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",it(ca("printers/checkout?orderId=".concat(t.orderId)),{method:"POST",body:Object(v.a)({},t)}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ca(e){return"".concat(lt,"/").concat(e)}var sa=a(465),ia=void 0,la=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).orderdishes=function(e){a.props.dispatch({type:"orders/orderdishes",payload:Object(v.a)({},e)}).then(function(e){a.props.hideLoading(),e.forEach(function(e,t){var n="arrow_list_".concat(t);a.setState(Object(Le.a)({},n,!0))}),a.setState({scanDishes:e})})},a.toggleArrow=function(){a.setState({arrow:!a.state.arrow})},a.toggleList=function(e){return function(){var t="arrow_list_".concat(e);a.setState(Object(Le.a)({},t,!a.state[t]))}},a.comprehensiveScore=function(e){a.setState({comprehensiveScore:e})},a.scoreContent=function(e){a.setState({scoreContent:e.target.value})},a.foodComprehensiveScore=function(e){return function(t){var n=Object(Je.a)(a.state.scanDishes);n[e].foodItem.comprehensiveScore=t,a.setState({scanDishes:n})}},a.foodContent=function(e){return function(t){var n=Object(Je.a)(a.state.scanDishes);n[e].foodItem.scoreContent=t.target.value,a.setState({scanDishes:n})}},a.confirm=function(){var e=[];a.state.scanDishes.forEach(function(t){var a=t.pictureIdList||[],n=[];a.forEach(function(e){n.push(e.pictureId)}),e.push({comprehensiveScore:t.foodItem.comprehensiveScore||0,foodItemId:t.foodItem.foodItemId,pictureIdList:n||[],scoreContent:t.foodItem.scoreContent||""})});var t=a.state.shopImage||[],n=[];t.forEach(function(e){n.push(e.id)});var r={comprehensiveScore:a.state.comprehensiveScore||0,foodItemReviews:[].concat(e),orderId:a.state.orderId,pictureIdList:n||[],scoreContent:a.state.scoreContent,storeId:a.state.storeId};a.props.dispatch({type:"global/storeAndFoodItem",payload:Object(v.a)({},r)}).then(function(){_.a.info("success",2),a.props.hocLink("#/paymentResult?orderId=".concat(a.state.orderId))()})},a.imagesChange=function(e,t){return function(t,a,n){if(console.log("imagesChange"),"add"===a){_.a.loading("loading");var r="".concat(lt,"/pictures/customer/upload"),o=new FormData;o.append("picture",t[t.length-1].file),console.log(t),sa.ajax({url:r,type:"post",data:o,contentType:!1,processData:!1,success:function(t){var a=t.data,n=void 0===a?{}:a;console.log("picture success");var r=ia.state.scanDishes||[];r.forEach(function(t,a){t.pictureIdList=t.pictureIdList||[],e===t.foodItem.foodItemId&&t.pictureIdList.push({pictureId:n.pictureId,pictureUrl:n.pictureUrl})}),ia.setState({scanDishes:r}),_.a.hide()},error:function(e){console.log("picture error"),_.a.hide(),e.responseJSON&&200!==e.responseJSON.code&&_.a.info("error",1)}})}}},a.imagesShopChange=function(e,t,a){if(console.log("imagesShopChange"),"add"===t){_.a.loading("loading");var n="".concat(lt,"/pictures/customer/upload"),r=new FormData;r.append("picture",e[e.length-1].file),console.log(e),sa.ajax({url:n,type:"post",data:r,contentType:!1,processData:!1,success:function(e){var t=e.data,a=void 0===t?{}:t;console.log(1);var n=ia.state.shopImage||[];n.push({id:a.pictureId,url:a.pictureUrl}),ia.setState({shopImage:n}),_.a.hide()},error:function(e){console.log(e),_.a.hide(),e.responseJSON&&200!==e.responseJSON.code&&_.a.info("error",1)}})}};var n=fe.get("orderId",window.location.href);return a.state={orderId:n,storeId:window.sessionStorage.storeId,scanDishes:[],scoreContent:"",comprehensiveScore:"",shopImage:[],arrow:!0},ia=Object(oe.a)(a),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getBusinessInfo(this.state.storeId),this.orderdishes({orderId:this.state.orderId})}},{key:"getBusinessInfo",value:function(e){this.props.dispatch({type:"orders/getBusinessInfo",payload:{storeId:e}})}},{key:"render",value:function(){var e=this,t=this.props.orders.businessInfo,a=void 0===t?{}:t,n=this.state.scanDishes,r=void 0===n?[]:n,o=c.a.createElement("div",{className:$e.a.confirm_footer},c.a.createElement("span",{onClick:this.confirm},"Submit"));return c.a.createElement(re,{footer:o,title:"Rate your experience",className:"footer_flex"},c.a.createElement("div",{className:$e.a.section},c.a.createElement("p",{className:$e.a.title},"Restaurant Overall"),c.a.createElement("div",{className:$e.a.res_evaluate},c.a.createElement("div",{className:$e.a.res_evaluate_section},c.a.createElement("img",{src:a.logoPictureUrl,alt:""}),c.a.createElement("span",null,a.storeName),c.a.createElement("div",{className:"".concat($e.a.res_arrow," ").concat(this.state.arrow?$e.a.show_more:""),onClick:this.toggleArrow},c.a.createElement("i",{className:$e.a.detail_more}))),c.a.createElement(Xe,{onChange:this.comprehensiveScore,className:$e.a.big_star})),c.a.createElement("div",{className:"".concat($e.a.evaluate_info," ").concat(this.state.arrow?$e.a.hide:"")},c.a.createElement("textarea",{className:$e.a.review_form,onChange:this.scoreContent,placeholder:"Please enter your review"}),c.a.createElement(Qe.a,{disableDelete:!0,files:this.state.shopImage,onChange:this.imagesShopChange,selectable:this.state.shopImage.length<4,accept:"image/jpeg,image/jpg,image/png"}))),r.map(function(t,a){var n=t.foodItem,r=n.primaryPictureUrl||"",o=[];return(t.pictureIdList||[]).forEach(function(e,t){o.push({url:e.pictureUrl,id:e.pictureId})}),c.a.createElement("div",{className:$e.a.dishes_section,key:a},0===a&&c.a.createElement("p",{className:$e.a.title},"Items you ordered"),c.a.createElement("div",{className:$e.a.res_evaluate},c.a.createElement("div",{className:$e.a.res_evaluate_section},c.a.createElement("img",{src:r,alt:""}),c.a.createElement("span",null,c.a.createElement("b",null,n.name),c.a.createElement(Xe,{onChange:e.foodComprehensiveScore(a),className:$e.a.big_star})),c.a.createElement("div",{className:"".concat($e.a.res_arrow," ").concat(e.state["arrow_list_".concat(a)]?$e.a.show_more:""),onClick:e.toggleList(a)},c.a.createElement("i",{className:$e.a.detail_more})))),c.a.createElement("div",{className:"".concat($e.a.evaluate_info," ").concat(e.state["arrow_list_".concat(a)]?$e.a.hide:"")},c.a.createElement("textarea",{className:$e.a.review_form,onChange:e.foodContent(a),placeholder:"Please enter your review"}),c.a.createElement(Qe.a,{files:o,disableDelete:!0,onChange:e.imagesChange(n.foodItemId,a),selectable:o.length<4,accept:"image/jpeg,image/jpg,image/png"})))}))}}]),t}(o.Component),da=Object(n.connect)(function(e){return{orders:e.orders}})(K(la)),ua=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=fe.get("tableNumber",window.location.href),t=fe.get("storeId",window.location.href);e&&(window.sessionStorage.tableNumber=e),t&&(window.sessionStorage.storeId=t)}},{key:"render",value:function(){return c.a.createElement("div",{className:h.a.home},c.a.createElement("div",{className:h.a.home_body},c.a.createElement(p.Route,{component:ve,exact:!0,path:"/"}),c.a.createElement(p.Route,{component:ve,exact:!0,path:"/orders"}),c.a.createElement(p.Route,{component:q,exact:!0,path:"/orderInfo"}),c.a.createElement(p.Route,{component:me,exact:!0,path:"/orderPreview"}),c.a.createElement(p.Route,{component:Oe,exact:!0,path:"/orderCheck"}),c.a.createElement(p.Route,{component:de,exact:!0,path:"/orderConfirm"}),c.a.createElement(p.Route,{component:Ne,exact:!0,path:"/cardGift"}),c.a.createElement(p.Route,{component:We,exact:!0,path:"/paymentPreview"}),c.a.createElement(p.Route,{component:Me,exact:!0,path:"/paymentResult"}),c.a.createElement(p.Route,{component:da,exact:!0,path:"/review"}),c.a.createElement(p.Route,{component:Ve,exact:!0,path:"/bankCard"})))}}]),t}(o.Component),pa=Object(n.connect)()(ua);var ma=function(e){var t=e.history;return c.a.createElement(p.Router,{history:t},c.a.createElement(p.Switch,null,c.a.createElement(p.Route,{component:pa,exact:!0,path:"/"}),c.a.createElement(pa,null)))},ha=[{namespace:"global",state:{},effects:{luckyDraw:et.a.mark(function e(t,a){var n,r,o;return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,t.success,r=a.call,a.put,e.prev=2,e.next=5,r(Bt,Object(v.a)({},n));case 5:return o=e.sent,e.abrupt("return",o.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[2,9]])}),emailBind:et.a.mark(function e(t,a){var n,r,o;return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,t.success,r=a.call,a.put,e.prev=2,e.next=5,r(Lt,Object(v.a)({},n));case 5:return o=e.sent,e.abrupt("return",o);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[2,9]])}),emailReceipt:et.a.mark(function e(t,a){var n,r,o;return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,t.success,r=a.call,a.put,e.prev=2,e.next=5,r(Lt,Object(v.a)({},n));case 5:return o=e.sent,e.abrupt("return",o);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[2,9]])}),storeAndFoodItem:et.a.mark(function e(t,a){var n,r;return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,t.success,r=a.call,a.put,e.prev=2,e.next=5,r(Dt,Object(v.a)({},n));case 5:return e.abrupt("return",!0);case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[2,8]])}),needHelp:et.a.mark(function e(t,a){var n,r,o;return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,t.success,r=a.call,a.put,e.prev=2,e.next=5,r(ea,Object(v.a)({},n));case 5:return o=e.sent,e.abrupt("return",o);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[2,9]])}),transactionsOrder:et.a.mark(function e(t,a){var n,r,o;return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,t.success,r=a.call,a.put,e.prev=2,e.next=5,r(Zt,Object(v.a)({},n));case 5:if(200!==(o=e.sent).code){e.next=10;break}return e.abrupt("return",o.data);case 10:return e.abrupt("return",[]);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0);case 16:case"end":return e.stop()}},e,null,[[2,13]])})},reducers:{}},{namespace:"orders",state:{businessInfo:{},category:[],foodItems:[],labelsList:[]},effects:{getBusinessInfo:et.a.mark(function e(t,a){var n,r,o,c;return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,t.success,r=a.call,o=a.put,e.next=4,r(dt,Object(v.a)({},n));case 4:return c=e.sent,e.next=7,o({type:"businessInfo",payload:Object(v.a)({},c.data)});case 7:case"end":return e.stop()}},e)}),getFoodItems:et.a.mark(function e(t,a){var n,r,o,c;return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,t.success,r=a.call,o=a.put,e.next=4,r(pt,Object(v.a)({},n));case 4:return c=e.sent,e.next=7,o({type:"foodItemsList",payload:Object(Je.a)(c.data)});case 7:case"end":return e.stop()}},e)}),regularHours:et.a.mark(function e(t,a){var n,r,o;return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,t.success,r=a.call,a.put,e.next=4,r(ht,Object(v.a)({},n));case 4:return o=e.sent,e.abrupt("return",o.data);case 6:case"end":return e.stop()}},e)}),customerLabels:et.a.mark(function e(t,a){var n,r,o,c;return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,t.success,r=a.call,o=a.put,e.next=4,r(Et,Object(v.a)({},n));case 4:return c=e.sent,e.next=7,o({type:"labelsList",payload:Object(Je.a)(c.data)});case 7:case"end":return e.stop()}},e)}),reviews:et.a.mark(function e(t,a){var n,r,o,c;return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,t.success,r=a.call,o=a.put,e.prev=2,e.next=5,r(bt,Object(v.a)({},n));case 5:return c=e.sent,e.next=8,o({type:"reviewsList",payload:Object(Je.a)(c.data)});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}},e,null,[[2,10]])}),tablesStatus:et.a.mark(function e(t,a){var n,r,o,c;return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,t.success,r=a.call,o=a.put,e.next=4,r(Xt,Object(v.a)({},n));case 4:return c=e.sent,e.next=7,o({type:"tableInfo",payload:Object(v.a)({},c.data)});case 7:return e.abrupt("return",c.data);case 8:case"end":return e.stop()}},e)}),addMoreDishes:et.a.mark(function e(t,a){var n,r,o;return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,t.success,r=a.call,a.put,e.prev=2,e.next=5,r(Vt,Object(v.a)({},n));case 5:return o=e.sent,e.abrupt("return",o);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[2,9]])}),eatInStore:et.a.mark(function e(t,a){var n,r,o;return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=a.call,a.put,e.prev=2,e.next=5,r(Ft,Object(v.a)({},n));case 5:return o=e.sent,e.abrupt("return",o);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[2,9]])}),orderDetail:et.a.mark(function e(t,a){var n,r,o;return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,t.success,r=a.call,a.put,e.prev=2,e.next=5,r(At,Object(v.a)({},n));case 5:return o=e.sent,e.abrupt("return",o.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[2,9]])}),orderdishes:et.a.mark(function e(t,a){var n,r,o;return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,t.success,r=a.call,a.put,e.prev=2,e.next=5,r(Pt,Object(v.a)({},n));case 5:return o=e.sent,e.abrupt("return",o.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[2,9]])}),printDishes:et.a.mark(function e(t,a){var n,r,o;return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,t.success,r=a.call,a.put,e.prev=2,e.next=5,r(aa,Object(v.a)({},n));case 5:return o=e.sent,e.abrupt("return",o);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[2,9]])})},reducers:{businessInfo:function(e,t){var a=t.payload;return e.businessInfo=a,Object(v.a)({},e)},foodItemsList:function(e,t){var a=t.payload,n=void 0===a?[]:a,r=[];return n.forEach(function(e){var t=e.foodItem.category;e.foodItem&&t&&-1===r.indexOf(t)&&r.push(t)}),e.category=r,e.foodItems=n,Object(v.a)({},e)},orderNumChange:function(e,t){var a=t.payload,n=0,r=0;return e.foodItems.forEach(function(e){e.foodItem.foodItemId===a.foodItemId&&(e.foodItem.num=a.num);var t=e.foodItem.num||0;n=F(n,t);var o=e.foodItem.dailySpecialPrice||e.foodItem.price||0;r=F(r,H(t,o||0))}),Object(v.a)({},e,{totalNum:n,totalPrice:r})},labelsList:function(e,t){var a=t.payload;return e.labelsList=a,Object(v.a)({},e)},reviewsList:function(e,t){var a=t.payload;return e.reviewsList=a,Object(v.a)({},e)},getFoodItemsDetail:function(e,t){var a=t.payload;return e.foodItems.forEach(function(t){Number(t.foodItem.foodItemId)===Number(a.foodItemId)&&(e.getFoodItemsDetail=t)}),Object(v.a)({},e)},tableInfo:function(e,t){var a=t.payload;return e.tableInfo=a,Object(v.a)({},e)}}},{namespace:"orderInfo",state:{foodItems:{},reviewsFoodItemList:[]},effects:{getFoodItemsDetail:et.a.mark(function e(t,a){var n,r,o,c;return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,t.success,r=a.call,o=a.put,e.next=4,r(_t,Object(v.a)({},n));case 4:return c=e.sent,e.next=7,o({type:"foodItemsDetail",payload:Object(v.a)({},c.data)});case 7:case"end":return e.stop()}},e)}),reviewsFoodItem:et.a.mark(function e(t,a){var n,r,o,c;return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,t.success,r=a.call,o=a.put,e.next=4,r(gt,Object(v.a)({},n));case 4:return c=e.sent,e.next=7,o({type:"reviewsFoodItemList",payload:Object(Je.a)(c.data)});case 7:case"end":return e.stop()}},e)}),scanOrder:et.a.mark(function e(t,a){var n,r,o;return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=a.call,a.put,e.next=4,r(Wt,Object(v.a)({},n));case 4:return o=e.sent,e.abrupt("return",o.data);case 6:case"end":return e.stop()}},e)}),scanDishes:et.a.mark(function e(t,a){var n,r,o;return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=a.call,a.put,e.next=4,r(Qt,Object(v.a)({},n));case 4:return o=e.sent,e.abrupt("return",o.data);case 6:case"end":return e.stop()}},e)}),foodItemPicGet:et.a.mark(function e(t,a){var n,r,o;return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=a.call,a.put,e.next=4,r(Ut,Object(v.a)({},n));case 4:return o=e.sent,e.abrupt("return",o.data);case 6:case"end":return e.stop()}},e)})},reducers:{foodItemsDetail:function(e,t){var a=t.payload;return e.foodItems=a,Object(v.a)({},e)},reviewsFoodItemList:function(e,t){var a=t.payload;return e.reviewsFoodItemList=a,Object(v.a)({},e)}}},{namespace:"bankCard",state:{},effects:{addbankCard:et.a.mark(function e(t,a){var n,r;return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=a.call,a.put,e.prev=2,e.next=5,r(Ot,Object(v.a)({},n));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}},e,null,[[2,7]])})},reducers:{}},{namespace:"paymentPreview",state:{},effects:{payments:et.a.mark(function e(t,a){var n,r,o;return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=a.call,a.put,e.prev=2,e.next=5,r(kt,Object(v.a)({},n));case 5:return o=e.sent,e.abrupt("return",o);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[2,9]])}),offlinePay:et.a.mark(function e(t,a){var n,r,o;return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=a.call,a.put,e.prev=2,e.next=5,r(xt,Object(v.a)({},n));case 5:return o=e.sent,e.abrupt("return",o);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[2,9]])}),printCheckout:et.a.mark(function e(t,a){var n,r,o;return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,t.success,r=a.call,a.put,e.prev=2,e.next=5,r(ra,Object(v.a)({},n));case 5:return o=e.sent,e.abrupt("return",o);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[2,9]])})},reducers:{}}],fa=a(245);new(a.n(fa).a);var _a=r()();console.log("09-24(02)"),ha.forEach(function(e){_a.model(e)}),_a.router(ma),_a.start("#root")},63:function(e,t,a){e.exports={confirm_footer:"bankCard_confirm_footer__1EdYt",active:"bankCard_active__13wyB",arrow_right:"bankCard_arrow_right__2S04d",page:"bankCard_page__1ul7P",bankcard_section:"bankCard_bankcard_section__1b7dv",bankcard_line:"bankCard_bankcard_line__59TDa",select_date:"bankCard_select_date__3zk82",line:"bankCard_line__2_gEB",select_line:"bankCard_select_line__3U4it"}}},[[247,1,2]]]);
//# sourceMappingURL=main.f73ee6f4.chunk.js.map